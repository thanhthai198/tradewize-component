{"version":3,"names":["parseVtt","loadSubtitles","vttUrl","res","fetch","ok","console","warn","status","vttText","text","trim","parsed","length","err","error","isYoutubeUrl","url","test","extractYoutubeId","match"],"sources":["index.tsx"],"sourcesContent":["import type { SubtitleEntry } from '../types';\nimport { parseVtt } from '../utils';\n\n//thanhthai198.github.io/my_cdn/subtitle/videoTest/es.vtt\nexport const loadSubtitles = async (\n  vttUrl: string\n): Promise<SubtitleEntry[]> => {\n  try {\n    if (!vttUrl) {\n      return [];\n    }\n    const res = await fetch(vttUrl);\n\n    if (!res.ok) {\n      console.warn(`[Subtitle] Failed to fetch: ${res.status}`);\n      return [];\n    }\n\n    const vttText = await res.text();\n\n    if (!vttText.trim()) {\n      console.warn('[Subtitle] Empty subtitle file.');\n      return [];\n    }\n\n    const parsed = parseVtt(vttText);\n    if (!parsed.length) {\n      console.warn('[Subtitle] Parsed subtitle is empty.');\n    }\n\n    return parsed;\n  } catch (err) {\n    console.error('[Subtitle] Load error:', err);\n    return [];\n  }\n};\n\nexport const isYoutubeUrl = (url: string): boolean => {\n  return /(?:youtube\\.com|youtu\\.be)/.test(url);\n};\n\nexport const extractYoutubeId = (url: string): string | null => {\n  const match = url.match(/(?:v=|\\/)([0-9A-Za-z_-]{11})/);\n  return match && match[1] ? match[1] : null;\n};\n"],"mappings":"AACA,SAASA,QAAQ,QAAQ,UAAU;;AAEnC;AACA,OAAO,MAAMC,aAAa,GAAG,MAC3BC,MAAc,IACe;EAC7B,IAAI;IACF,IAAI,CAACA,MAAM,EAAE;MACX,OAAO,EAAE;IACX;IACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,MAAM,CAAC;IAE/B,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE;MACXC,OAAO,CAACC,IAAI,CAAC,+BAA+BJ,GAAG,CAACK,MAAM,EAAE,CAAC;MACzD,OAAO,EAAE;IACX;IAEA,MAAMC,OAAO,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;IAEhC,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC,CAAC,EAAE;MACnBL,OAAO,CAACC,IAAI,CAAC,iCAAiC,CAAC;MAC/C,OAAO,EAAE;IACX;IAEA,MAAMK,MAAM,GAAGZ,QAAQ,CAACS,OAAO,CAAC;IAChC,IAAI,CAACG,MAAM,CAACC,MAAM,EAAE;MAClBP,OAAO,CAACC,IAAI,CAAC,sCAAsC,CAAC;IACtD;IAEA,OAAOK,MAAM;EACf,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZR,OAAO,CAACS,KAAK,CAAC,wBAAwB,EAAED,GAAG,CAAC;IAC5C,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAME,YAAY,GAAIC,GAAW,IAAc;EACpD,OAAO,4BAA4B,CAACC,IAAI,CAACD,GAAG,CAAC;AAC/C,CAAC;AAED,OAAO,MAAME,gBAAgB,GAAIF,GAAW,IAAoB;EAC9D,MAAMG,KAAK,GAAGH,GAAG,CAACG,KAAK,CAAC,8BAA8B,CAAC;EACvD,OAAOA,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;AAC5C,CAAC","ignoreList":[]}