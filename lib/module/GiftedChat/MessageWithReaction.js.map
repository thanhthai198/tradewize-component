{"version":3,"names":["React","useCallback","useMemo","useState","useEffect","StyleSheet","Pressable","Text","Modal","Animated","useSharedValue","useAnimatedStyle","withTiming","withSpring","withDelay","Color","FastImage","MessageText","Time","MessageFile","getScreenHeight","getScreenWidth","ButtonBase","EMOJI_REACTIONS","DIFFERENCE_LEVEL","MessageWithReaction","isVisible","onClose","message","position","user","onReactionEmoji","onActionReaction","isShowEmoji","_message$user","_message$user3","_message$user4","quickReplies","isExceedsScreenHeight","setIsExceedsScreenHeight","differenceLevel","setDifferenceLevel","isMyMessage","_id","overlayOpacity","messageScale","messageOpacity","reactionIconOpacity","actionButtonsOpacity","_message$user2","value","duration","damping","stiffness","overlayAnimatedStyle","opacity","messageAnimatedStyle","transform","scale","reactionIconAnimatedStyle","actionButtonsAnimatedStyle","styleMessage","top","pageY","right","left","pageX","styleReactionIcon","styleLayoutAction","height","onLayout","e","isHeight","nativeEvent","layout","timeTextStyle","alignSelf","color","black","renderTime","createElement","currentMessage","renderMessage","text","renderFile","_message$file","_message$file2","file","length","isReaction","messageWidth","width","visible","style","styles","modal","transparent","animationType","View","absoluteFill","onPress","overlay","pointerEvents","reactionIcon","map","emoji","key","_message$_id","toString","reactionIconItem","reactionIconText","btnAction","btnBorderAction","btnActionText","icon","source","require","create","margin","backgroundColor","zIndex","borderRadius","white","minWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","marginTop","flexDirection","justifyContent","alignItems","paddingHorizontal","paddingVertical","btnActionOther","borderTopWidth","borderTopColor","defaultColor","fontSize","fontWeight","borderBottomWidth","borderBottomColor","time"],"sources":["MessageWithReaction.tsx"],"sourcesContent":["import React, { useCallback, useMemo, useState, useEffect } from 'react';\nimport {\n  StyleSheet,\n  Pressable,\n  Text,\n  Modal,\n  type LayoutChangeEvent,\n  type TextStyle,\n} from 'react-native';\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  withSpring,\n  withDelay,\n} from 'react-native-reanimated';\n\nimport { type IMessage, type LeftRightStyle, type User } from './types';\nimport Color from './Color';\nimport FastImage from 'react-native-fast-image';\nimport { MessageText } from './MessageText';\nimport { Time } from './Time';\nimport { MessageFile } from './MessageFile';\nimport { getScreenHeight, getScreenWidth } from '../utils';\nimport { ButtonBase } from '../ButtonBase';\nexport const EMOJI_REACTIONS = ['‚ù§Ô∏è', 'üòÇ', 'üòÆ', 'üò¢', 'üò†', 'üëç'];\n\nexport interface MessageWithReactionProps {\n  isVisible: boolean;\n  onClose: () => void;\n  message: IMessage;\n  position: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    pageX: number;\n    pageY: number;\n  };\n  user: User;\n  isShowEmoji?: boolean;\n  onReactionEmoji?: (emoji: string, messageId: string) => void;\n  onActionReaction?: (message: IMessage, action: string) => void;\n}\n\nconst DIFFERENCE_LEVEL = 72;\n\nexport const MessageWithReaction = ({\n  isVisible,\n  onClose,\n  message,\n  position,\n  user,\n  onReactionEmoji,\n  onActionReaction,\n  isShowEmoji = true,\n}: MessageWithReactionProps) => {\n  delete message.quickReplies;\n  const [isExceedsScreenHeight, setIsExceedsScreenHeight] = useState(false);\n  const [differenceLevel, setDifferenceLevel] = useState(0);\n\n  const isMyMessage = message.user?._id === user?._id;\n\n  // Animation values\n  const overlayOpacity = useSharedValue(0);\n  const messageScale = useSharedValue(0.8);\n  const messageOpacity = useSharedValue(0);\n  const reactionIconOpacity = useSharedValue(0);\n  const actionButtonsOpacity = useSharedValue(0);\n\n  // Animation effects\n  useEffect(() => {\n    if (isVisible) {\n      // Start entrance animations\n      overlayOpacity.value = withTiming(0.9, { duration: 30 });\n      messageScale.value = withSpring(1, {\n        damping: 30,\n        stiffness: 500,\n      });\n      messageOpacity.value = withTiming(1, { duration: 30 });\n\n      // Staggered animations for reaction icons\n      if (isShowEmoji && user?._id !== message?.user?._id) {\n        reactionIconOpacity.value = withDelay(\n          30,\n          withTiming(1, { duration: 30 })\n        );\n      }\n\n      // Staggered animations for action buttons\n      actionButtonsOpacity.value = withDelay(\n        60,\n        withTiming(1, { duration: 30 })\n      );\n    } else {\n      // Reset animations when closing\n      overlayOpacity.value = 0;\n      messageScale.value = 0.8;\n      messageOpacity.value = 0;\n      reactionIconOpacity.value = 0;\n      actionButtonsOpacity.value = 0;\n    }\n  }, [\n    isVisible,\n    isShowEmoji,\n    user?._id,\n    message?.user?._id,\n    isMyMessage,\n    overlayOpacity,\n    messageScale,\n    messageOpacity,\n    reactionIconOpacity,\n    actionButtonsOpacity,\n  ]);\n\n  // Animated styles\n  const overlayAnimatedStyle = useAnimatedStyle(() => ({\n    opacity: overlayOpacity.value,\n  }));\n\n  const messageAnimatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: messageScale.value }],\n    opacity: messageOpacity.value,\n  }));\n\n  const reactionIconAnimatedStyle = useAnimatedStyle(() => ({\n    opacity: reactionIconOpacity.value,\n  }));\n\n  const actionButtonsAnimatedStyle = useAnimatedStyle(() => ({\n    opacity: actionButtonsOpacity.value,\n  }));\n\n  const styleMessage = useCallback(() => {\n    let top = 0;\n    if (position.pageY < 80) {\n      top = 80 + getScreenHeight() * 0.05 + 8;\n    } else if (!isExceedsScreenHeight) {\n      top = position.pageY;\n    } else {\n      top = position.pageY - differenceLevel - DIFFERENCE_LEVEL;\n    }\n\n    if (isMyMessage) {\n      return {\n        top,\n        right: 16,\n      };\n    }\n\n    return {\n      top,\n      left: position.pageX,\n    };\n  }, [\n    isMyMessage,\n    position.pageX,\n    position.pageY,\n    isExceedsScreenHeight,\n    differenceLevel,\n  ]);\n\n  const styleReactionIcon = useCallback(() => {\n    let top = 0;\n\n    if (position.pageY < 80) {\n      top = 80;\n    } else if (!isExceedsScreenHeight) {\n      top = position.pageY - getScreenHeight() * 0.05 - 8;\n    } else {\n      top =\n        position.pageY -\n        getScreenHeight() * 0.05 -\n        differenceLevel -\n        DIFFERENCE_LEVEL -\n        8;\n    }\n\n    if (isMyMessage) {\n      return {\n        top,\n        right: 16,\n      };\n    }\n    return {\n      top,\n      left: position.pageX,\n    };\n  }, [\n    isExceedsScreenHeight,\n    differenceLevel,\n    position.pageY,\n    position.pageX,\n    isMyMessage,\n  ]);\n\n  const styleLayoutAction = useCallback(() => {\n    let top = 0;\n    if (position.pageY < 80) {\n      top = 80 + getScreenHeight() * 0.05 + 8 + position.height;\n    } else if (!isExceedsScreenHeight) {\n      top = position.pageY + position.height;\n    } else {\n      top =\n        position.pageY + position.height - differenceLevel - DIFFERENCE_LEVEL;\n    }\n\n    if (isMyMessage) {\n      return {\n        top,\n        right: 16,\n      };\n    }\n    return {\n      top,\n      left: position.pageX,\n    };\n  }, [\n    isMyMessage,\n    position.pageX,\n    position.pageY,\n    position.height,\n    isExceedsScreenHeight,\n    differenceLevel,\n  ]);\n\n  const onLayout = useCallback(\n    (e: LayoutChangeEvent) => {\n      const isHeight =\n        position.pageY + e.nativeEvent.layout.height + position.height + 139 >\n        getScreenHeight();\n\n      setDifferenceLevel(\n        position.pageY +\n          e.nativeEvent.layout.height +\n          position.height -\n          getScreenHeight()\n      );\n      setIsExceedsScreenHeight(isHeight);\n    },\n    [position.pageY, position.height]\n  );\n  const timeTextStyle: LeftRightStyle<TextStyle> = useMemo(() => {\n    return {\n      left: {\n        alignSelf: 'flex-start',\n      },\n      right: {\n        alignSelf: 'flex-end',\n        color: Color.black,\n      },\n    };\n  }, []);\n\n  const renderTime = useMemo(\n    () => (\n      <Time\n        currentMessage={message}\n        position={isMyMessage ? 'right' : 'left'}\n        timeTextStyle={timeTextStyle}\n      />\n    ),\n    [message, timeTextStyle, isMyMessage]\n  );\n\n  const renderMessage = useMemo(() => {\n    if (message?.text) {\n      return <MessageText currentMessage={message} position=\"left\" />;\n    } else {\n      return null;\n    }\n  }, [message]);\n\n  const renderFile = useMemo(() => {\n    if (message?.file?.length && message?.file?.length > 0) {\n      return (\n        <MessageFile\n          isReaction\n          currentMessage={message}\n          messageWidth={{ width: position.width + 36, _id: '' }}\n        />\n      );\n    }\n    return null;\n  }, [position.width, message]);\n\n  return (\n    <Modal\n      visible={isVisible}\n      style={styles.modal}\n      transparent={true}\n      animationType=\"none\"\n    >\n      {/* Pressable b·∫Øt s·ª± ki·ªán b·∫•m n·ªÅn */}\n      <Animated.View style={StyleSheet.absoluteFill}>\n        <Pressable style={StyleSheet.absoluteFill} onPress={onClose} />\n\n        {/* Overlay m√†u ƒëen ƒë·∫≠m */}\n        <Animated.View\n          style={[\n            StyleSheet.absoluteFill,\n            styles.overlay,\n            overlayAnimatedStyle,\n          ]}\n          pointerEvents=\"none\"\n        />\n\n        {isShowEmoji && user?._id !== message?.user?._id && (\n          <Animated.View\n            style={[\n              styles.reactionIcon,\n              styleReactionIcon(),\n              reactionIconAnimatedStyle,\n            ]}\n          >\n            {EMOJI_REACTIONS?.map((emoji) => (\n              <Pressable\n                key={emoji}\n                onPress={() => {\n                  onClose();\n                  onReactionEmoji?.(emoji, message?._id?.toString());\n                }}\n                style={styles.reactionIconItem}\n              >\n                <Text style={styles.reactionIconText}>{emoji}</Text>\n              </Pressable>\n            ))}\n          </Animated.View>\n        )}\n\n        {/* Hi·ªÉn th·ªã message ·ªü v·ªã tr√≠ ƒë√£ ƒëo */}\n        <Animated.View\n          style={[styles.message, styleMessage(), messageAnimatedStyle]}\n        >\n          {renderFile}\n          {renderMessage}\n          {renderTime}\n        </Animated.View>\n\n        <Animated.View\n          onLayout={onLayout}\n          style={[\n            styles.layout,\n            styleLayoutAction(),\n            actionButtonsAnimatedStyle,\n          ]}\n        >\n          <ButtonBase\n            style={[\n              styles.btnAction,\n              { width: getScreenWidth() * 0.5 },\n              message?.text && styles.btnBorderAction,\n            ]}\n            onPress={() => {\n              onClose();\n              onActionReaction?.(message, 'reply');\n            }}\n          >\n            <Text style={styles.btnActionText}>Reply</Text>\n            <FastImage\n              style={styles.icon}\n              source={require('./assets/reply.png')}\n            />\n          </ButtonBase>\n          {message?.text && (\n            <ButtonBase\n              style={[styles.btnAction]}\n              onPress={() => {\n                onClose();\n                onActionReaction?.(message, 'copy');\n              }}\n            >\n              <Text style={styles.btnActionText}>Copy</Text>\n              <FastImage\n                style={styles.icon}\n                source={require('./assets/copy.png')}\n              />\n            </ButtonBase>\n          )}\n          {/* <ButtonBase\n            style={[styles.btnAction, styles.btnActionOther]}\n            onPress={() => {\n              onClose();\n              onActionReaction?.(message, 'other');\n            }}\n          >\n            <Text style={styles.btnActionText}>Other</Text>\n            <FastImage style={styles.icon} source={require('../assets/more-information.png')} />\n          </ButtonBase> */}\n        </Animated.View>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modal: {\n    margin: 0,\n  },\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\n  },\n  message: {\n    position: 'absolute',\n    zIndex: 1,\n    borderRadius: 8,\n    backgroundColor: Color.white,\n    minWidth: getScreenWidth() * 0.19,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  layout: {\n    backgroundColor: Color.white,\n    position: 'absolute',\n    borderRadius: 16,\n    marginTop: 8,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 6,\n    elevation: 6,\n  },\n  btnAction: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  btnActionOther: {\n    borderTopWidth: 4,\n    borderTopColor: Color.defaultColor,\n  },\n  icon: {\n    width: 18,\n    height: 18,\n  },\n  btnActionText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: Color.black,\n  },\n  btnBorderAction: {\n    borderBottomWidth: 1,\n    borderBottomColor: Color.defaultColor,\n  },\n  time: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  reactionIcon: {\n    position: 'absolute',\n    backgroundColor: Color.white,\n    borderRadius: 16,\n    zIndex: 1,\n    height: getScreenHeight() * 0.05,\n    width: getScreenWidth() * 0.75,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    flexDirection: 'row',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 6,\n    elevation: 6,\n  },\n  reactionIconItem: {\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: (getScreenWidth() * 0.75 - 56) / 6,\n  },\n  reactionIconText: {\n    fontSize: 24,\n  },\n});\n"],"mappings":"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","ignoreList":[]}