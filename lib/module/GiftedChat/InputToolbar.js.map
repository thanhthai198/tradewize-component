{"version":3,"names":["React","useCallback","useMemo","StyleSheet","Text","TouchableOpacity","View","Animated","Layout","SlideInDown","SlideOutUp","Composer","Send","Actions","Color","FastImage","formatDurationSmart","getScreenWidth","ButtonBase","InputToolbar","props","_messageReaction$user","renderActions","onPressActionButton","renderComposer","renderSend","renderAccessory","options","optionTintColor","icon","wrapperStyle","containerStyle","onPressPickMedia","fileMedia","onRemoveFile","onPressFile","messageReaction","clearMessageReaction","labelReaction","onFocusInput","onBlurInput","messageContentReaction","isMe","actionsFragment","createElement","composerFragment","_extends","ref","inputRef","onFocus","onBlur","renderFileMedia","length","style","styles","previewFile","entering","duration","springify","exiting","layout","map","item","index","key","id","delay","onPress","previewFileItem","width","height","removeFile","removeFileText","source","uri","thumbnailPreview","previewFileItemImage","typeFile","iconPlayContainer","top","right","require","iconPlay","previewFileItemVideo","previewFileItemVideoText","renderMessageReaction","_messageReaction$file","_messageReaction$file2","text","file","renderFilePreview","_messageReaction$file3","_messageReaction$file4","_messageReaction$file6","_messageReaction$file7","_messageReaction$file8","_messageReaction$file9","_messageReaction$file0","_messageReaction$file5","Fragment","filePreview","name","filePreviewImage","filter","_item","opacity","filePreviewMore","filePreviewMoreText","container","messageReactionContainer","messageReactionText","user","numberOfLines","messageReactionContent","activeOpacity","variant","title","messageReactionCloseButton","textStyle","messageReactionClose","primary","primaryStyle","accessory","accessoryStyle","create","borderTopWidth","hairlineWidth","borderTopColor","defaultColor","backgroundColor","white","paddingTop","paddingHorizontal","flexDirection","alignItems","gap","marginTop","borderRadius","overflow","borderWidth","borderColor","position","bottom","color","fontSize","fontWeight","zIndex","justifyContent","marginLeft","flex","paddingVertical","black","lineHeight","left"],"sources":["InputToolbar.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n  type StyleProp,\n  type ViewStyle,\n} from 'react-native';\nimport Animated, {\n  Layout,\n  SlideInDown,\n  SlideOutUp,\n} from 'react-native-reanimated';\n\nimport { Composer, type ComposerProps } from './Composer';\nimport { Send, type SendProps } from './Send';\nimport { Actions, type ActionsProps } from './Actions';\nimport Color from './Color';\nimport { type FileMessage, type IMessage } from './types';\nimport FastImage from 'react-native-fast-image';\nimport { formatDurationSmart } from './utils';\nimport { getScreenWidth } from '../utils';\nimport { ButtonBase } from '../ButtonBase';\n\nexport interface InputToolbarProps<TMessage extends IMessage> {\n  options?: { [key: string]: () => void };\n  optionTintColor?: string;\n  containerStyle?: StyleProp<ViewStyle>;\n  primaryStyle?: StyleProp<ViewStyle>;\n  accessoryStyle?: StyleProp<ViewStyle>;\n  renderAccessory?(props: InputToolbarProps<TMessage>): React.ReactNode;\n  renderActions?(props: ActionsProps): React.ReactNode;\n  renderSend?(props: SendProps<TMessage>): React.ReactNode;\n  renderComposer?(props: ComposerProps): React.ReactNode;\n  onPressActionButton?(): void;\n  icon?: () => React.ReactNode;\n  wrapperStyle?: StyleProp<ViewStyle>;\n  inputRef?: React.RefObject<TextInput>;\n  onPressPickMedia?: (type: 'camera' | 'pick') => void;\n  fileMedia?: FileMessage[];\n  onRemoveFile?: (file: FileMessage) => void;\n  onPressFile?: (file: FileMessage) => void;\n  messageReaction?: IMessage & { isReply: boolean };\n  clearMessageReaction?: () => void;\n  labelReaction?: string;\n  onFocusInput?: () => void;\n  onBlurInput?: () => void;\n  messageContentReaction?: string;\n  isMe?: boolean;\n}\n\nexport function InputToolbar<TMessage extends IMessage = IMessage>(\n  props: InputToolbarProps<TMessage>\n) {\n  const {\n    renderActions,\n    onPressActionButton,\n    renderComposer,\n    renderSend,\n    renderAccessory,\n    options,\n    optionTintColor,\n    icon,\n    wrapperStyle,\n    containerStyle,\n    onPressPickMedia,\n    fileMedia,\n    onRemoveFile,\n    onPressFile,\n    messageReaction,\n    clearMessageReaction,\n    labelReaction,\n    onFocusInput,\n    onBlurInput,\n    messageContentReaction,\n    isMe,\n  } = props;\n\n  const actionsFragment = useMemo(() => {\n    const props = {\n      onPressActionButton,\n      options,\n      optionTintColor,\n      icon,\n      wrapperStyle,\n      containerStyle,\n      onPressPickMedia,\n    };\n\n    return (\n      renderActions?.(props) || (onPressActionButton && <Actions {...props} />)\n    );\n  }, [\n    renderActions,\n    onPressActionButton,\n    options,\n    optionTintColor,\n    icon,\n    wrapperStyle,\n    containerStyle,\n    onPressPickMedia,\n  ]);\n\n  const composerFragment = useMemo(() => {\n    return (\n      renderComposer?.(props as ComposerProps) || (\n        <Composer\n          ref={props?.inputRef}\n          {...(props as ComposerProps)}\n          onPressPickMedia={props.onPressPickMedia}\n          onFocus={onFocusInput}\n          onBlur={onBlurInput}\n        />\n      )\n    );\n  }, [renderComposer, props, onFocusInput, onBlurInput]);\n\n  const renderFileMedia = useMemo(() => {\n    if (!fileMedia?.length) return null;\n\n    return (\n      <Animated.View\n        style={styles.previewFile}\n        entering={SlideInDown.duration(300).springify()}\n        exiting={SlideOutUp.duration(300).springify()}\n        layout={Layout.springify()}\n      >\n        {fileMedia?.map((item, index) => {\n          return (\n            <Animated.View\n              key={item.id}\n              entering={SlideInDown.delay(index * 100)\n                .duration(300)\n                .springify()}\n              exiting={SlideOutUp.duration(300).springify()}\n              layout={Layout.springify()}\n            >\n              <TouchableOpacity\n                onPress={() => {\n                  onPressFile?.(item);\n                }}\n                style={[\n                  styles.previewFileItem,\n                  {\n                    width: getScreenWidth() * 0.22,\n                    height: getScreenWidth() * 0.22,\n                  },\n                ]}\n              >\n                <TouchableOpacity\n                  onPress={() => {\n                    onRemoveFile?.(item);\n                  }}\n                  style={[\n                    styles.removeFile,\n                    {\n                      width: getScreenWidth() * 0.06,\n                      height: getScreenWidth() * 0.06,\n                    },\n                  ]}\n                >\n                  <Text style={styles.removeFileText}>X</Text>\n                </TouchableOpacity>\n\n                <FastImage\n                  source={{ uri: item.thumbnailPreview }}\n                  style={styles.previewFileItemImage}\n                />\n\n                {item.typeFile === 'video' && (\n                  <View\n                    style={[\n                      styles.iconPlayContainer,\n                      {\n                        width: getScreenWidth() * 0.1,\n                        height: getScreenWidth() * 0.1,\n                        top:\n                          (getScreenWidth() * 0.22) / 2 -\n                          (getScreenWidth() * 0.1) / 2,\n                        right:\n                          (getScreenWidth() * 0.22) / 2 -\n                          (getScreenWidth() * 0.1) / 2,\n                      },\n                    ]}\n                  >\n                    <FastImage\n                      source={require('./assets/play.png')}\n                      style={styles.iconPlay}\n                    />\n                  </View>\n                )}\n\n                {item.typeFile === 'video' && (\n                  <View style={styles.previewFileItemVideo}>\n                    <Text style={styles.previewFileItemVideoText}>\n                      {formatDurationSmart(item?.duration || 0)}\n                    </Text>\n                  </View>\n                )}\n              </TouchableOpacity>\n            </Animated.View>\n          );\n        })}\n      </Animated.View>\n    );\n  }, [fileMedia, onRemoveFile, onPressFile]);\n\n  const renderMessageReaction = useCallback(() => {\n    if (!messageReaction?.text && !messageReaction?.file) return null;\n    if (\n      messageReaction?.text &&\n      (!messageReaction?.file || messageReaction?.file?.length <= 0)\n    ) {\n      return messageReaction?.text;\n    }\n    if (messageReaction?.file && messageReaction?.file?.length > 0) {\n      if (messageContentReaction) {\n        return messageContentReaction;\n      }\n      return 'File media';\n    }\n    return null;\n  }, [messageReaction, messageContentReaction]);\n\n  const renderFilePreview = useMemo(() => {\n    if (!messageReaction?.file) return null;\n    if (messageReaction?.file?.length <= 0) return null;\n    if (messageReaction?.file?.length <= 3) {\n      return (\n        <>\n          {messageReaction?.file?.map((item, index) => {\n            return (\n              <View\n                style={styles.filePreview}\n                key={`${item?.id} + ${item?.name} + ${index}`}\n              >\n                <FastImage\n                  source={{ uri: item?.thumbnailPreview || item?.uri }}\n                  style={styles.filePreviewImage}\n                />\n              </View>\n            );\n          })}\n        </>\n      );\n    }\n    return (\n      <>\n        {messageReaction?.file\n          ?.filter((_item, index) => index < 2)\n          ?.map((item, index) => {\n            return (\n              <View\n                style={styles.filePreview}\n                key={`${item?.id} + ${item?.name} + ${index}`}\n              >\n                <FastImage\n                  source={{ uri: item?.thumbnailPreview || item?.uri }}\n                  style={styles.filePreviewImage}\n                />\n              </View>\n            );\n          })}\n        <View>\n          <FastImage\n            source={{\n              uri:\n                messageReaction?.file[2]?.thumbnailPreview ||\n                messageReaction?.file[2]?.uri,\n            }}\n            style={[styles.filePreview, { opacity: 0.5 }]}\n          />\n          <View style={styles.filePreviewMore}>\n            <Text style={styles.filePreviewMoreText}>\n              +\n              {messageReaction?.file?.length - 2 > 99\n                ? '99'\n                : messageReaction?.file?.length - 2}\n            </Text>\n          </View>\n        </View>\n      </>\n    );\n  }, [messageReaction]);\n\n  return (\n    <View style={[styles.container, containerStyle]}>\n      {messageReaction && (\n        <View style={styles.messageReaction}>\n          <View style={styles.messageReactionContainer}>\n            <Text style={styles.messageReactionText}>\n              {labelReaction\n                ? labelReaction\n                : `Are replying ${isMe ? 'yourself' : messageReaction?.user?.name}`}\n            </Text>\n            <Text numberOfLines={2} style={styles.messageReactionContent}>\n              {renderMessageReaction()}\n            </Text>\n          </View>\n\n          {renderFilePreview}\n\n          <ButtonBase\n            activeOpacity={0.7}\n            variant=\"ghost\"\n            title=\"X\"\n            onPress={() => {\n              clearMessageReaction?.();\n            }}\n            style={styles.messageReactionCloseButton}\n            textStyle={styles.messageReactionClose}\n          />\n        </View>\n      )}\n      <View style={[styles.primary, props.primaryStyle]}>\n        {actionsFragment}\n        {composerFragment}\n        {renderSend?.(props) || <Send {...props} />}\n      </View>\n      {renderAccessory && (\n        <View style={[styles.accessory, props.accessoryStyle]}>\n          {renderAccessory(props)}\n        </View>\n      )}\n      {renderFileMedia}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: Color.defaultColor,\n    backgroundColor: Color.white,\n    paddingTop: 8,\n    paddingHorizontal: 16,\n  },\n  primary: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  accessory: {\n    height: 44,\n  },\n  previewFile: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginTop: 8,\n  },\n  previewFileItem: {\n    borderRadius: 8,\n    overflow: 'hidden',\n    backgroundColor: Color.defaultColor,\n    borderWidth: 1,\n    borderColor: Color.defaultColor,\n  },\n  previewFileItemImage: {\n    width: '100%',\n    height: '100%',\n  },\n  previewFileItemVideo: {\n    position: 'absolute',\n    bottom: 2,\n    right: 4,\n  },\n  previewFileItemVideoText: {\n    color: Color.white,\n    fontSize: 12,\n    fontWeight: 'bold',\n  },\n  removeFile: {\n    position: 'absolute',\n    top: 4,\n    right: 4,\n    backgroundColor: Color.defaultColor,\n    borderRadius: 100,\n    zIndex: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: Color.white,\n  },\n  removeFileText: {\n    color: Color.white,\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  iconPlay: {\n    width: 24,\n    height: 24,\n    marginLeft: 4,\n  },\n  iconPlayContainer: {\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    borderRadius: 100,\n  },\n  messageReactionContainer: {\n    flex: 1,\n  },\n  messageReaction: {\n    backgroundColor: Color.white,\n    paddingVertical: 8,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  messageReactionText: {\n    color: Color.black,\n    fontSize: 14,\n    fontWeight: 'bold',\n    lineHeight: 20,\n  },\n  messageReactionContent: {\n    color: Color.black,\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  messageReactionClose: {\n    color: Color.black,\n    fontSize: 18,\n    fontWeight: '500',\n  },\n  messageReactionCloseButton: {\n    width: getScreenWidth() * 0.07,\n    height: getScreenWidth() * 0.07,\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n  },\n  filePreview: {\n    width: getScreenWidth() * 0.1,\n    height: getScreenWidth() * 0.1,\n    borderRadius: 8,\n    overflow: 'hidden',\n    backgroundColor: Color.defaultColor,\n    borderWidth: 1,\n    borderColor: Color.defaultColor,\n    marginLeft: 4,\n  },\n  filePreviewImage: {\n    width: '100%',\n    height: '100%',\n  },\n  filePreviewMore: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  filePreviewMoreText: {\n    color: Color.white,\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n});\n"],"mappings":"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","ignoreList":[]}