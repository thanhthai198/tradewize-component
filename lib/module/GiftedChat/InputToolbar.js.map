{"version":3,"names":["React","useCallback","useMemo","StyleSheet","Text","TouchableOpacity","View","Animated","Layout","SlideInDown","SlideOutUp","Composer","Send","Actions","Color","FastImage","formatDurationSmart","getScreenWidth","ButtonBase","InputToolbar","props","_messageReaction$user","renderActions","onPressActionButton","renderComposer","renderSend","renderAccessory","options","optionTintColor","icon","wrapperStyle","containerStyle","onPressPickMedia","fileMedia","onRemoveFile","onPressFile","messageReaction","clearMessageReaction","labelReaction","onFocusInput","onBlurInput","messageContentReaction","isMe","actionsFragment","createElement","composerFragment","_extends","ref","inputRef","onFocus","onBlur","renderFileMedia","length","style","styles","previewFile","map","item","onPress","key","id","previewFileItem","width","height","removeFile","removeFileText","source","uri","thumbnailPreview","previewFileItemImage","typeFile","iconPlayContainer","top","right","require","iconPlay","previewFileItemVideo","previewFileItemVideoText","duration","renderMessageReaction","_messageReaction$file","_messageReaction$file2","text","file","renderFilePreview","_messageReaction$file3","_messageReaction$file4","_messageReaction$file6","_messageReaction$file7","_messageReaction$file8","_messageReaction$file9","_messageReaction$file0","_messageReaction$file5","Fragment","index","filePreview","name","filePreviewImage","filter","_item","opacity","filePreviewMore","filePreviewMoreText","container","messageReactionContainer","messageReactionText","user","numberOfLines","messageReactionContent","activeOpacity","variant","title","messageReactionCloseButton","textStyle","messageReactionClose","primary","primaryStyle","accessory","accessoryStyle","entering","exiting","layout","create","borderTopWidth","hairlineWidth","borderTopColor","defaultColor","backgroundColor","white","paddingTop","paddingHorizontal","flexDirection","alignItems","gap","marginTop","borderRadius","overflow","borderWidth","borderColor","position","bottom","color","fontSize","fontWeight","zIndex","justifyContent","marginLeft","flex","paddingVertical","black","lineHeight","left"],"sources":["InputToolbar.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  View,\r\n  type StyleProp,\r\n  type ViewStyle,\r\n} from 'react-native';\r\nimport Animated, {\r\n  Layout,\r\n  SlideInDown,\r\n  SlideOutUp,\r\n} from 'react-native-reanimated';\r\n\r\nimport { Composer, type ComposerProps } from './Composer';\r\nimport { Send, type SendProps } from './Send';\r\nimport { Actions, type ActionsProps } from './Actions';\r\nimport Color from './Color';\r\nimport { type FileMessage, type IMessage } from './types';\r\nimport FastImage from 'react-native-fast-image';\r\nimport { formatDurationSmart } from './utils';\r\nimport { getScreenWidth } from '../utils';\r\nimport { ButtonBase } from '../ButtonBase';\r\n\r\nexport interface InputToolbarProps<TMessage extends IMessage> {\r\n  options?: { [key: string]: () => void };\r\n  optionTintColor?: string;\r\n  containerStyle?: StyleProp<ViewStyle>;\r\n  primaryStyle?: StyleProp<ViewStyle>;\r\n  accessoryStyle?: StyleProp<ViewStyle>;\r\n  renderAccessory?(props: InputToolbarProps<TMessage>): React.ReactNode;\r\n  renderActions?(props: ActionsProps): React.ReactNode;\r\n  renderSend?(props: SendProps<TMessage>): React.ReactNode;\r\n  renderComposer?(props: ComposerProps): React.ReactNode;\r\n  onPressActionButton?(): void;\r\n  icon?: () => React.ReactNode;\r\n  wrapperStyle?: StyleProp<ViewStyle>;\r\n  inputRef?: React.RefObject<TextInput>;\r\n  onPressPickMedia?: (type: 'camera' | 'pick') => void;\r\n  fileMedia?: FileMessage[];\r\n  onRemoveFile?: (file: FileMessage) => void;\r\n  onPressFile?: (file: FileMessage) => void;\r\n  messageReaction?: IMessage & { isReply: boolean };\r\n  clearMessageReaction?: () => void;\r\n  labelReaction?: string;\r\n  onFocusInput?: () => void;\r\n  onBlurInput?: () => void;\r\n  messageContentReaction?: string;\r\n  isMe?: boolean;\r\n}\r\n\r\nexport function InputToolbar<TMessage extends IMessage = IMessage>(\r\n  props: InputToolbarProps<TMessage>\r\n) {\r\n  const {\r\n    renderActions,\r\n    onPressActionButton,\r\n    renderComposer,\r\n    renderSend,\r\n    renderAccessory,\r\n    options,\r\n    optionTintColor,\r\n    icon,\r\n    wrapperStyle,\r\n    containerStyle,\r\n    onPressPickMedia,\r\n    fileMedia,\r\n    onRemoveFile,\r\n    onPressFile,\r\n    messageReaction,\r\n    clearMessageReaction,\r\n    labelReaction,\r\n    onFocusInput,\r\n    onBlurInput,\r\n    messageContentReaction,\r\n    isMe,\r\n  } = props;\r\n\r\n  const actionsFragment = useMemo(() => {\r\n    const props = {\r\n      onPressActionButton,\r\n      options,\r\n      optionTintColor,\r\n      icon,\r\n      wrapperStyle,\r\n      containerStyle,\r\n      onPressPickMedia,\r\n    };\r\n\r\n    return (\r\n      renderActions?.(props) || (onPressActionButton && <Actions {...props} />)\r\n    );\r\n  }, [\r\n    renderActions,\r\n    onPressActionButton,\r\n    options,\r\n    optionTintColor,\r\n    icon,\r\n    wrapperStyle,\r\n    containerStyle,\r\n    onPressPickMedia,\r\n  ]);\r\n\r\n  const composerFragment = useMemo(() => {\r\n    return (\r\n      renderComposer?.(props as ComposerProps) || (\r\n        <Composer\r\n          ref={props?.inputRef}\r\n          {...(props as ComposerProps)}\r\n          onPressPickMedia={props.onPressPickMedia}\r\n          onFocus={onFocusInput}\r\n          onBlur={onBlurInput}\r\n        />\r\n      )\r\n    );\r\n  }, [renderComposer, props, onFocusInput, onBlurInput]);\r\n\r\n  const renderFileMedia = useMemo(() => {\r\n    if (!fileMedia?.length) return null;\r\n\r\n    return (\r\n      <View style={styles.previewFile}>\r\n        {fileMedia?.map((item) => {\r\n          return (\r\n            <TouchableOpacity\r\n              onPress={() => {\r\n                onPressFile?.(item);\r\n              }}\r\n              key={item.id}\r\n              style={[\r\n                styles.previewFileItem,\r\n                {\r\n                  width: getScreenWidth() * 0.22,\r\n                  height: getScreenWidth() * 0.22,\r\n                },\r\n              ]}\r\n            >\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  onRemoveFile?.(item);\r\n                }}\r\n                style={[\r\n                  styles.removeFile,\r\n                  {\r\n                    width: getScreenWidth() * 0.06,\r\n                    height: getScreenWidth() * 0.06,\r\n                  },\r\n                ]}\r\n              >\r\n                <Text style={styles.removeFileText}>X</Text>\r\n              </TouchableOpacity>\r\n\r\n              <FastImage\r\n                source={{ uri: item.thumbnailPreview }}\r\n                style={styles.previewFileItemImage}\r\n              />\r\n\r\n              {item.typeFile === 'video' && (\r\n                <View\r\n                  style={[\r\n                    styles.iconPlayContainer,\r\n                    {\r\n                      width: getScreenWidth() * 0.1,\r\n                      height: getScreenWidth() * 0.1,\r\n                      top:\r\n                        (getScreenWidth() * 0.22) / 2 -\r\n                        (getScreenWidth() * 0.1) / 2,\r\n                      right:\r\n                        (getScreenWidth() * 0.22) / 2 -\r\n                        (getScreenWidth() * 0.1) / 2,\r\n                    },\r\n                  ]}\r\n                >\r\n                  <FastImage\r\n                    source={require('./assets/play.png')}\r\n                    style={styles.iconPlay}\r\n                  />\r\n                </View>\r\n              )}\r\n\r\n              {item.typeFile === 'video' && (\r\n                <View style={styles.previewFileItemVideo}>\r\n                  <Text style={styles.previewFileItemVideoText}>\r\n                    {formatDurationSmart(item?.duration || 0)}\r\n                  </Text>\r\n                </View>\r\n              )}\r\n            </TouchableOpacity>\r\n          );\r\n        })}\r\n      </View>\r\n    );\r\n  }, [fileMedia, onRemoveFile, onPressFile]);\r\n\r\n  const renderMessageReaction = useCallback(() => {\r\n    if (!messageReaction?.text && !messageReaction?.file) return null;\r\n    if (\r\n      messageReaction?.text &&\r\n      (!messageReaction?.file || messageReaction?.file?.length <= 0)\r\n    ) {\r\n      return messageReaction?.text;\r\n    }\r\n    if (messageReaction?.file && messageReaction?.file?.length > 0) {\r\n      if (messageContentReaction) {\r\n        return messageContentReaction;\r\n      }\r\n      return 'File media';\r\n    }\r\n    return null;\r\n  }, [messageReaction, messageContentReaction]);\r\n\r\n  const renderFilePreview = useMemo(() => {\r\n    if (!messageReaction?.file) return null;\r\n    if (messageReaction?.file?.length <= 0) return null;\r\n    if (messageReaction?.file?.length <= 3) {\r\n      return (\r\n        <>\r\n          {messageReaction?.file?.map((item, index) => {\r\n            return (\r\n              <View\r\n                style={styles.filePreview}\r\n                key={`${item?.id} + ${item?.name} + ${index}`}\r\n              >\r\n                <FastImage\r\n                  source={{ uri: item?.thumbnailPreview || item?.uri }}\r\n                  style={styles.filePreviewImage}\r\n                />\r\n              </View>\r\n            );\r\n          })}\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        {messageReaction?.file\r\n          ?.filter((_item, index) => index < 2)\r\n          ?.map((item, index) => {\r\n            return (\r\n              <View\r\n                style={styles.filePreview}\r\n                key={`${item?.id} + ${item?.name} + ${index}`}\r\n              >\r\n                <FastImage\r\n                  source={{ uri: item?.thumbnailPreview || item?.uri }}\r\n                  style={styles.filePreviewImage}\r\n                />\r\n              </View>\r\n            );\r\n          })}\r\n        <View>\r\n          <FastImage\r\n            source={{\r\n              uri:\r\n                messageReaction?.file[2]?.thumbnailPreview ||\r\n                messageReaction?.file[2]?.uri,\r\n            }}\r\n            style={[styles.filePreview, { opacity: 0.5 }]}\r\n          />\r\n          <View style={styles.filePreviewMore}>\r\n            <Text style={styles.filePreviewMoreText}>\r\n              +\r\n              {messageReaction?.file?.length - 2 > 99\r\n                ? '99'\r\n                : messageReaction?.file?.length - 2}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      </>\r\n    );\r\n  }, [messageReaction]);\r\n\r\n  return (\r\n    <View style={[styles.container, containerStyle]}>\r\n      {messageReaction && (\r\n        <View style={styles.messageReaction}>\r\n          <View style={styles.messageReactionContainer}>\r\n            <Text style={styles.messageReactionText}>\r\n              {labelReaction\r\n                ? labelReaction\r\n                : `Are replying ${isMe ? 'yourself' : messageReaction?.user?.name}`}\r\n            </Text>\r\n            <Text numberOfLines={2} style={styles.messageReactionContent}>\r\n              {renderMessageReaction()}\r\n            </Text>\r\n          </View>\r\n\r\n          {renderFilePreview}\r\n\r\n          <ButtonBase\r\n            activeOpacity={0.7}\r\n            variant=\"ghost\"\r\n            title=\"X\"\r\n            onPress={() => {\r\n              clearMessageReaction?.();\r\n            }}\r\n            style={styles.messageReactionCloseButton}\r\n            textStyle={styles.messageReactionClose}\r\n          />\r\n        </View>\r\n      )}\r\n      <View style={[styles.primary, props.primaryStyle]}>\r\n        {actionsFragment}\r\n        {composerFragment}\r\n        {renderSend?.(props) || <Send {...props} />}\r\n      </View>\r\n      {renderAccessory && (\r\n        <View style={[styles.accessory, props.accessoryStyle]}>\r\n          {renderAccessory(props)}\r\n        </View>\r\n      )}\r\n      <Animated.View\r\n        entering={SlideInDown.duration(300)}\r\n        exiting={SlideOutUp.duration(300)}\r\n        layout={Layout}\r\n      >\r\n        {renderFileMedia}\r\n      </Animated.View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    borderTopWidth: StyleSheet.hairlineWidth,\r\n    borderTopColor: Color.defaultColor,\r\n    backgroundColor: Color.white,\r\n    paddingTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  primary: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  accessory: {\r\n    height: 44,\r\n  },\r\n  previewFile: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    marginTop: 8,\r\n  },\r\n  previewFileItem: {\r\n    borderRadius: 8,\r\n    overflow: 'hidden',\r\n    backgroundColor: Color.defaultColor,\r\n    borderWidth: 1,\r\n    borderColor: Color.defaultColor,\r\n  },\r\n  previewFileItemImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  previewFileItemVideo: {\r\n    position: 'absolute',\r\n    bottom: 2,\r\n    right: 4,\r\n  },\r\n  previewFileItemVideoText: {\r\n    color: Color.white,\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n  },\r\n  removeFile: {\r\n    position: 'absolute',\r\n    top: 4,\r\n    right: 4,\r\n    backgroundColor: Color.defaultColor,\r\n    borderRadius: 100,\r\n    zIndex: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: Color.white,\r\n  },\r\n  removeFileText: {\r\n    color: Color.white,\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n  },\r\n  iconPlay: {\r\n    width: 24,\r\n    height: 24,\r\n    marginLeft: 4,\r\n  },\r\n  iconPlayContainer: {\r\n    position: 'absolute',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n    borderRadius: 100,\r\n  },\r\n  messageReactionContainer: {\r\n    flex: 1,\r\n  },\r\n  messageReaction: {\r\n    backgroundColor: Color.white,\r\n    paddingVertical: 8,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  },\r\n  messageReactionText: {\r\n    color: Color.black,\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    lineHeight: 20,\r\n  },\r\n  messageReactionContent: {\r\n    color: Color.black,\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n  },\r\n  messageReactionClose: {\r\n    color: Color.black,\r\n    fontSize: 18,\r\n    fontWeight: '500',\r\n  },\r\n  messageReactionCloseButton: {\r\n    width: getScreenWidth() * 0.07,\r\n    height: getScreenWidth() * 0.07,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  filePreview: {\r\n    width: getScreenWidth() * 0.1,\r\n    height: getScreenWidth() * 0.1,\r\n    borderRadius: 8,\r\n    overflow: 'hidden',\r\n    backgroundColor: Color.defaultColor,\r\n    borderWidth: 1,\r\n    borderColor: Color.defaultColor,\r\n    marginLeft: 4,\r\n  },\r\n  filePreviewImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  filePreviewMore: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  filePreviewMoreText: {\r\n    color: Color.white,\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]}