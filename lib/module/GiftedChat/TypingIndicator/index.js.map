{"version":3,"names":["React","useCallback","useEffect","useState","useMemo","View","Animated","runOnJS","useAnimatedStyle","useSharedValue","withDelay","withRepeat","withSequence","withTiming","stylesCommon","styles","DotsAnimation","dot1","dot2","dot3","topY","bottomY","duration","dot1Style","transform","translateY","value","dot2Style","dot3Style","createElement","style","fill","centerItems","dots","dot","TypingIndicator","isTyping","yCoords","heightScale","marginScale","isVisible","setIsVisible","containerStyle","height","marginBottom","slideIn","slideOut","isFinished","container"],"sources":["index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState, useMemo } from 'react';\r\nimport { View } from 'react-native';\r\nimport Animated, {\r\n  runOnJS,\r\n  useAnimatedStyle,\r\n  useSharedValue,\r\n  withDelay,\r\n  withRepeat,\r\n  withSequence,\r\n  withTiming,\r\n} from 'react-native-reanimated';\r\nimport { type TypingIndicatorProps } from './types';\r\n\r\nimport stylesCommon from '../styles';\r\nimport styles from './styles';\r\n\r\nexport * from './types';\r\n\r\nconst DotsAnimation = () => {\r\n  const dot1 = useSharedValue(0);\r\n  const dot2 = useSharedValue(0);\r\n  const dot3 = useSharedValue(0);\r\n\r\n  const topY = useMemo(() => -5, []);\r\n  const bottomY = useMemo(() => 5, []);\r\n  const duration = useMemo(() => 500, []);\r\n\r\n  const dot1Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot1.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot1]\r\n  );\r\n\r\n  const dot2Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot2.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot2]\r\n  );\r\n\r\n  const dot3Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot3.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot3]\r\n  );\r\n\r\n  useEffect(() => {\r\n    dot1.value = withRepeat(\r\n      withSequence(\r\n        withTiming(topY, { duration }),\r\n        withTiming(bottomY, { duration })\r\n      ),\r\n      0,\r\n      true\r\n    );\r\n  }, [dot1, topY, bottomY, duration]);\r\n\r\n  useEffect(() => {\r\n    dot2.value = withDelay(\r\n      100,\r\n      withRepeat(\r\n        withSequence(\r\n          withTiming(topY, { duration }),\r\n          withTiming(bottomY, { duration })\r\n        ),\r\n        0,\r\n        true\r\n      )\r\n    );\r\n  }, [dot2, topY, bottomY, duration]);\r\n\r\n  useEffect(() => {\r\n    dot3.value = withDelay(\r\n      200,\r\n      withRepeat(\r\n        withSequence(\r\n          withTiming(topY, { duration }),\r\n          withTiming(bottomY, { duration })\r\n        ),\r\n        0,\r\n        true\r\n      )\r\n    );\r\n  }, [dot3, topY, bottomY, duration]);\r\n\r\n  return (\r\n    <View style={[stylesCommon.fill, stylesCommon.centerItems, styles.dots]}>\r\n      <Animated.View style={[styles.dot, dot1Style]} />\r\n      <Animated.View style={[styles.dot, dot2Style]} />\r\n      <Animated.View style={[styles.dot, dot3Style]} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst TypingIndicator = ({ isTyping }: TypingIndicatorProps) => {\r\n  const yCoords = useSharedValue(200);\r\n  const heightScale = useSharedValue(0);\r\n  const marginScale = useSharedValue(0);\r\n\r\n  const [isVisible, setIsVisible] = useState(isTyping);\r\n\r\n  const containerStyle = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: yCoords.value,\r\n        },\r\n      ],\r\n      height: heightScale.value,\r\n      marginBottom: marginScale.value,\r\n    }),\r\n    [yCoords, heightScale, marginScale]\r\n  );\r\n\r\n  const slideIn = useCallback(() => {\r\n    const duration = 250;\r\n\r\n    yCoords.value = withTiming(0, { duration });\r\n    heightScale.value = withTiming(35, { duration });\r\n    marginScale.value = withTiming(8, { duration });\r\n  }, [yCoords, heightScale, marginScale]);\r\n\r\n  const slideOut = useCallback(() => {\r\n    const duration = 250;\r\n\r\n    yCoords.value = withTiming(200, { duration }, (isFinished) => {\r\n      if (isFinished) runOnJS(setIsVisible)(false);\r\n    });\r\n    heightScale.value = withTiming(0, { duration });\r\n    marginScale.value = withTiming(0, { duration });\r\n  }, [yCoords, heightScale, marginScale]);\r\n\r\n  useEffect(() => {\r\n    if (isVisible)\r\n      if (isTyping) slideIn();\r\n      else slideOut();\r\n  }, [isVisible, isTyping, slideIn, slideOut]);\r\n\r\n  useEffect(() => {\r\n    if (isTyping) setIsVisible(true);\r\n  }, [isTyping]);\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <Animated.View style={[styles.container, containerStyle]}>\r\n      <DotsAnimation />\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nexport default TypingIndicator;\r\n"],"mappings":"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","ignoreList":[]}