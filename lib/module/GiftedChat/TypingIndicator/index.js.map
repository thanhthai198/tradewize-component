{"version":3,"names":["React","useCallback","useEffect","useState","useMemo","View","Animated","runOnJS","useAnimatedStyle","useSharedValue","withDelay","withRepeat","withSequence","withTiming","stylesCommon","styles","DotsAnimation","dot1","dot2","dot3","topY","bottomY","duration","dot1Style","transform","translateY","value","dot2Style","dot3Style","createElement","style","fill","centerItems","dots","dot","TypingIndicator","isTyping","yCoords","heightScale","marginScale","isVisible","setIsVisible","containerStyle","height","marginBottom","slideIn","slideOut","isFinished","container"],"sources":["index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { View } from 'react-native';\nimport Animated, {\n  runOnJS,\n  useAnimatedStyle,\n  useSharedValue,\n  withDelay,\n  withRepeat,\n  withSequence,\n  withTiming,\n} from 'react-native-reanimated';\nimport { type TypingIndicatorProps } from './types';\n\nimport stylesCommon from '../styles';\nimport styles from './styles';\n\nexport * from './types';\n\nconst DotsAnimation = () => {\n  const dot1 = useSharedValue(0);\n  const dot2 = useSharedValue(0);\n  const dot3 = useSharedValue(0);\n\n  const topY = useMemo(() => -5, []);\n  const bottomY = useMemo(() => 5, []);\n  const duration = useMemo(() => 500, []);\n\n  const dot1Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot1.value,\n        },\n      ],\n    }),\n    [dot1]\n  );\n\n  const dot2Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot2.value,\n        },\n      ],\n    }),\n    [dot2]\n  );\n\n  const dot3Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot3.value,\n        },\n      ],\n    }),\n    [dot3]\n  );\n\n  useEffect(() => {\n    dot1.value = withRepeat(\n      withSequence(\n        withTiming(topY, { duration }),\n        withTiming(bottomY, { duration })\n      ),\n      0,\n      true\n    );\n  }, [dot1, topY, bottomY, duration]);\n\n  useEffect(() => {\n    dot2.value = withDelay(\n      100,\n      withRepeat(\n        withSequence(\n          withTiming(topY, { duration }),\n          withTiming(bottomY, { duration })\n        ),\n        0,\n        true\n      )\n    );\n  }, [dot2, topY, bottomY, duration]);\n\n  useEffect(() => {\n    dot3.value = withDelay(\n      200,\n      withRepeat(\n        withSequence(\n          withTiming(topY, { duration }),\n          withTiming(bottomY, { duration })\n        ),\n        0,\n        true\n      )\n    );\n  }, [dot3, topY, bottomY, duration]);\n\n  return (\n    <View style={[stylesCommon.fill, stylesCommon.centerItems, styles.dots]}>\n      <Animated.View style={[styles.dot, dot1Style]} />\n      <Animated.View style={[styles.dot, dot2Style]} />\n      <Animated.View style={[styles.dot, dot3Style]} />\n    </View>\n  );\n};\n\nconst TypingIndicator = ({ isTyping }: TypingIndicatorProps) => {\n  const yCoords = useSharedValue(200);\n  const heightScale = useSharedValue(0);\n  const marginScale = useSharedValue(0);\n\n  const [isVisible, setIsVisible] = useState(isTyping);\n\n  const containerStyle = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: yCoords.value,\n        },\n      ],\n      height: heightScale.value,\n      marginBottom: marginScale.value,\n    }),\n    [yCoords, heightScale, marginScale]\n  );\n\n  const slideIn = useCallback(() => {\n    const duration = 250;\n\n    yCoords.value = withTiming(0, { duration });\n    heightScale.value = withTiming(35, { duration });\n    marginScale.value = withTiming(8, { duration });\n  }, [yCoords, heightScale, marginScale]);\n\n  const slideOut = useCallback(() => {\n    const duration = 250;\n\n    yCoords.value = withTiming(200, { duration }, (isFinished) => {\n      if (isFinished) runOnJS(setIsVisible)(false);\n    });\n    heightScale.value = withTiming(0, { duration });\n    marginScale.value = withTiming(0, { duration });\n  }, [yCoords, heightScale, marginScale]);\n\n  useEffect(() => {\n    if (isVisible)\n      if (isTyping) slideIn();\n      else slideOut();\n  }, [isVisible, isTyping, slideIn, slideOut]);\n\n  useEffect(() => {\n    if (isTyping) setIsVisible(true);\n  }, [isTyping]);\n\n  if (!isVisible) return null;\n\n  return (\n    <Animated.View style={[styles.container, containerStyle]}>\n      <DotsAnimation />\n    </Animated.View>\n  );\n};\n\nexport default TypingIndicator;\n"],"mappings":"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","ignoreList":[]}