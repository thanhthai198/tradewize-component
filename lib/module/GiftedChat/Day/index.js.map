{"version":3,"names":["useMemo","Text","View","dayjs","relativeTime","calendar","DATE_FORMAT","useChatContext","stylesCommon","styles","extend","Day","dateFormat","dateFormatCalendar","createdAt","containerStyle","wrapperStyle","textStyle","getLocale","dateStr","now","startOf","date","locale","isSame","format","diff","sameDay","React","createElement","style","centerItems","container","wrapper","text"],"sources":["index.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport { Text, View } from 'react-native';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport calendar from 'dayjs/plugin/calendar';\n\nimport { DATE_FORMAT } from '../Constant';\nimport type { DayProps } from './types';\n\nimport { useChatContext } from '../GiftedChatContext';\nimport stylesCommon from '../styles';\nimport styles from './styles';\n\nexport * from './types';\n\ndayjs.extend(relativeTime);\ndayjs.extend(calendar);\n\nexport function Day({\n  dateFormat = DATE_FORMAT,\n  dateFormatCalendar,\n  createdAt,\n  containerStyle,\n  wrapperStyle,\n  textStyle,\n}: DayProps) {\n  const { getLocale } = useChatContext();\n\n  const dateStr = useMemo(() => {\n    if (createdAt == null) return null;\n\n    const now = dayjs().startOf('day');\n    const date = dayjs(createdAt).locale(getLocale()).startOf('day');\n\n    if (!now.isSame(date, 'year')) return date.format('D MMMM YYYY');\n\n    if (now.diff(date, 'days') < 1)\n      return date.calendar(now, {\n        sameDay: '[Today]',\n        ...dateFormatCalendar,\n      });\n\n    return date.format(dateFormat);\n  }, [createdAt, dateFormat, getLocale, dateFormatCalendar]);\n\n  if (!dateStr) return null;\n\n  return (\n    <View style={[stylesCommon.centerItems, styles.container, containerStyle]}>\n      <View style={[styles.wrapper, wrapperStyle]}>\n        <Text style={[styles.text, textStyle]}>{dateStr}</Text>\n      </View>\n    </View>\n  );\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,IAAI,EAAEC,IAAI,QAAQ,cAAc;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,QAAQ,MAAM,uBAAuB;AAE5C,SAASC,WAAW,QAAQ,aAAa;AAGzC,SAASC,cAAc,QAAQ,sBAAsB;AACrD,OAAOC,YAAY,MAAM,WAAW;AACpC,OAAOC,MAAM,MAAM,UAAU;AAE7B,cAAc,SAAS;AAEvBN,KAAK,CAACO,MAAM,CAACN,YAAY,CAAC;AAC1BD,KAAK,CAACO,MAAM,CAACL,QAAQ,CAAC;AAEtB,OAAO,SAASM,GAAGA,CAAC;EAClBC,UAAU,GAAGN,WAAW;EACxBO,kBAAkB;EAClBC,SAAS;EACTC,cAAc;EACdC,YAAY;EACZC;AACQ,CAAC,EAAE;EACX,MAAM;IAAEC;EAAU,CAAC,GAAGX,cAAc,CAAC,CAAC;EAEtC,MAAMY,OAAO,GAAGnB,OAAO,CAAC,MAAM;IAC5B,IAAIc,SAAS,IAAI,IAAI,EAAE,OAAO,IAAI;IAElC,MAAMM,GAAG,GAAGjB,KAAK,CAAC,CAAC,CAACkB,OAAO,CAAC,KAAK,CAAC;IAClC,MAAMC,IAAI,GAAGnB,KAAK,CAACW,SAAS,CAAC,CAACS,MAAM,CAACL,SAAS,CAAC,CAAC,CAAC,CAACG,OAAO,CAAC,KAAK,CAAC;IAEhE,IAAI,CAACD,GAAG,CAACI,MAAM,CAACF,IAAI,EAAE,MAAM,CAAC,EAAE,OAAOA,IAAI,CAACG,MAAM,CAAC,aAAa,CAAC;IAEhE,IAAIL,GAAG,CAACM,IAAI,CAACJ,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,EAC5B,OAAOA,IAAI,CAACjB,QAAQ,CAACe,GAAG,EAAE;MACxBO,OAAO,EAAE,SAAS;MAClB,GAAGd;IACL,CAAC,CAAC;IAEJ,OAAOS,IAAI,CAACG,MAAM,CAACb,UAAU,CAAC;EAChC,CAAC,EAAE,CAACE,SAAS,EAAEF,UAAU,EAAEM,SAAS,EAAEL,kBAAkB,CAAC,CAAC;EAE1D,IAAI,CAACM,OAAO,EAAE,OAAO,IAAI;EAEzB,oBACES,KAAA,CAAAC,aAAA,CAAC3B,IAAI;IAAC4B,KAAK,EAAE,CAACtB,YAAY,CAACuB,WAAW,EAAEtB,MAAM,CAACuB,SAAS,EAAEjB,cAAc;EAAE,gBACxEa,KAAA,CAAAC,aAAA,CAAC3B,IAAI;IAAC4B,KAAK,EAAE,CAACrB,MAAM,CAACwB,OAAO,EAAEjB,YAAY;EAAE,gBAC1CY,KAAA,CAAAC,aAAA,CAAC5B,IAAI;IAAC6B,KAAK,EAAE,CAACrB,MAAM,CAACyB,IAAI,EAAEjB,SAAS;EAAE,GAAEE,OAAc,CAClD,CACF,CAAC;AAEX","ignoreList":[]}