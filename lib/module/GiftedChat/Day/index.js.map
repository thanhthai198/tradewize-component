{"version":3,"names":["React","useMemo","Text","View","dayjs","relativeTime","calendar","DATE_FORMAT","useChatContext","stylesCommon","styles","extend","Day","dateFormat","dateFormatCalendar","createdAt","containerStyle","wrapperStyle","textStyle","getLocale","dateStr","now","startOf","date","locale","isSame","format","diff","sameDay","createElement","style","centerItems","container","wrapper","text"],"sources":["index.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Text, View } from 'react-native';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport calendar from 'dayjs/plugin/calendar';\r\n\r\nimport { DATE_FORMAT } from '../Constant';\r\nimport type { DayProps } from './types';\r\n\r\nimport { useChatContext } from '../GiftedChatContext';\r\nimport stylesCommon from '../styles';\r\nimport styles from './styles';\r\n\r\nexport * from './types';\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.extend(calendar);\r\n\r\nexport function Day({\r\n  dateFormat = DATE_FORMAT,\r\n  dateFormatCalendar,\r\n  createdAt,\r\n  containerStyle,\r\n  wrapperStyle,\r\n  textStyle,\r\n}: DayProps) {\r\n  const { getLocale } = useChatContext();\r\n\r\n  const dateStr = useMemo(() => {\r\n    if (createdAt == null) return null;\r\n\r\n    const now = dayjs().startOf('day');\r\n    const date = dayjs(createdAt).locale(getLocale()).startOf('day');\r\n\r\n    if (!now.isSame(date, 'year')) return date.format('D MMMM YYYY');\r\n\r\n    if (now.diff(date, 'days') < 1)\r\n      return date.calendar(now, {\r\n        sameDay: '[Today]',\r\n        ...dateFormatCalendar,\r\n      });\r\n\r\n    return date.format(dateFormat);\r\n  }, [createdAt, dateFormat, getLocale, dateFormatCalendar]);\r\n\r\n  if (!dateStr) return null;\r\n\r\n  return (\r\n    <View style={[stylesCommon.centerItems, styles.container, containerStyle]}>\r\n      <View style={[styles.wrapper, wrapperStyle]}>\r\n        <Text style={[styles.text, textStyle]}>{dateStr}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,IAAI,EAAEC,IAAI,QAAQ,cAAc;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,QAAQ,MAAM,uBAAuB;AAE5C,SAASC,WAAW,QAAQ,aAAa;AAGzC,SAASC,cAAc,QAAQ,sBAAsB;AACrD,OAAOC,YAAY,MAAM,WAAW;AACpC,OAAOC,MAAM,MAAM,UAAU;AAE7B,cAAc,SAAS;AAEvBN,KAAK,CAACO,MAAM,CAACN,YAAY,CAAC;AAC1BD,KAAK,CAACO,MAAM,CAACL,QAAQ,CAAC;AAEtB,OAAO,SAASM,GAAGA,CAAC;EAClBC,UAAU,GAAGN,WAAW;EACxBO,kBAAkB;EAClBC,SAAS;EACTC,cAAc;EACdC,YAAY;EACZC;AACQ,CAAC,EAAE;EACX,MAAM;IAAEC;EAAU,CAAC,GAAGX,cAAc,CAAC,CAAC;EAEtC,MAAMY,OAAO,GAAGnB,OAAO,CAAC,MAAM;IAC5B,IAAIc,SAAS,IAAI,IAAI,EAAE,OAAO,IAAI;IAElC,MAAMM,GAAG,GAAGjB,KAAK,CAAC,CAAC,CAACkB,OAAO,CAAC,KAAK,CAAC;IAClC,MAAMC,IAAI,GAAGnB,KAAK,CAACW,SAAS,CAAC,CAACS,MAAM,CAACL,SAAS,CAAC,CAAC,CAAC,CAACG,OAAO,CAAC,KAAK,CAAC;IAEhE,IAAI,CAACD,GAAG,CAACI,MAAM,CAACF,IAAI,EAAE,MAAM,CAAC,EAAE,OAAOA,IAAI,CAACG,MAAM,CAAC,aAAa,CAAC;IAEhE,IAAIL,GAAG,CAACM,IAAI,CAACJ,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,EAC5B,OAAOA,IAAI,CAACjB,QAAQ,CAACe,GAAG,EAAE;MACxBO,OAAO,EAAE,SAAS;MAClB,GAAGd;IACL,CAAC,CAAC;IAEJ,OAAOS,IAAI,CAACG,MAAM,CAACb,UAAU,CAAC;EAChC,CAAC,EAAE,CAACE,SAAS,EAAEF,UAAU,EAAEM,SAAS,EAAEL,kBAAkB,CAAC,CAAC;EAE1D,IAAI,CAACM,OAAO,EAAE,OAAO,IAAI;EAEzB,oBACEpB,KAAA,CAAA6B,aAAA,CAAC1B,IAAI;IAAC2B,KAAK,EAAE,CAACrB,YAAY,CAACsB,WAAW,EAAErB,MAAM,CAACsB,SAAS,EAAEhB,cAAc;EAAE,gBACxEhB,KAAA,CAAA6B,aAAA,CAAC1B,IAAI;IAAC2B,KAAK,EAAE,CAACpB,MAAM,CAACuB,OAAO,EAAEhB,YAAY;EAAE,gBAC1CjB,KAAA,CAAA6B,aAAA,CAAC3B,IAAI;IAAC4B,KAAK,EAAE,CAACpB,MAAM,CAACwB,IAAI,EAAEhB,SAAS;EAAE,GAAEE,OAAc,CAClD,CACF,CAAC;AAEX","ignoreList":[]}