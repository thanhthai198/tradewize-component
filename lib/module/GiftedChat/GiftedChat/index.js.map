{"version":3,"names":["React","createRef","useEffect","useMemo","useRef","useState","useCallback","ActionSheetProvider","dayjs","localizedFormat","Platform","View","Clipboard","Actions","Avatar","Bubble","Composer","MAX_COMPOSER_HEIGHT","MIN_COMPOSER_HEIGHT","TEST_ID","Day","GiftedAvatar","GiftedChatContext","InputToolbar","LoadEarlier","Message","MessageContainer","MessageText","Send","SystemMessage","Time","utils","Animated","useAnimatedStyle","useAnimatedReaction","useSharedValue","withTiming","runOnJS","KeyboardProvider","useReanimatedKeyboardAnimation","ImageView","stylesCommon","styles","MessageWithReaction","MediaAllShow","generateThumbnails","normalizeFileUri","ImageCropPicker","VideoModal","CameraModal","extend","GiftedChat","props","messages","initialText","isTyping","messageIdGenerator","Math","random","toString","substring","valueOf","user","onSend","locale","renderLoading","actionSheet","textInputProps","renderChatFooter","renderInputToolbar","bottomOffset","focusOnInputWhenOpeningKeyboard","keyboardShouldPersistTaps","select","ios","android","default","onInputTextChanged","maxInputLength","inverted","minComposerHeight","maxComposerHeight","isKeyboardInternallyHandled","onReactionEmoji","labelReaction","onFocusInput","onBlurInput","isShowEmojiReaction","actionSheetRef","messageContainerRef","textInputRef","isTextInputWasFocused","isInitialized","setIsInitialized","composerHeight","setComposerHeight","text","setText","isImageViewerVisible","setIsImageViewerVisible","fileSelected","setFileSelected","isShowVideoModal","setIsShowVideoModal","isTypingDisabled","setIsTypingDisabled","isShowCameraModal","setIsShowCameraModal","isMediaAllShow","setIsMediaAllShow","fileMediaAllLocal","setFileMediaAllLocal","arrMessage","setArrMessage","messageReaction","setMessageReaction","isModalReaction","setIsModalReaction","messageSelected","setMessageSelected","fileMedia","setFileMedia","keyboard","trackingKeyboardMovement","debounceEnableTypingTimeoutId","undefined","keyboardOffsetBottom","contentStyleAnim","transform","translateY","height","value","getTextFromProp","fallback","handleTextInputFocusWhenKeyboardHide","_textInputRef$current","current","isFocused","handleTextInputFocusWhenKeyboardShow","focus","disableTyping","clearTimeout","enableTyping","debounceEnableTyping","setTimeout","scrollToBottom","isAnimated","scrollToOffset","offset","animated","scrollToEnd","handlePressFile","file","type","typeFile","uri","console","log","renderMessages","messagesContainerStyle","messagesContainerProps","createElement","style","fill","_extends","invertibleScrollViewProps","forwardRef","onLongPressReaction","message","position","onPressFile","isShowAll","arrMedia","notifyInputTextReset","resetInputToolbar","_textInputRef$current2","clear","_onSend","shouldResetInputToolbar","_messages$","_messages","Array","isArray","length","convertFileMedia","map","item","thumbnailPreview","mine","getFileTypeFromPath","newMessages","createdAt","Date","_id","newMessagesWithReaction","isReply","messageReply","onInputSizeChanged","size","newComposerHeight","max","min","_onInputTextChanged","_text","onPressPickMedia","result","openPicker","multiple","fileMediaAll","path","sourceURL","id","filename","name","fileExtension","split","pop","width","onInitialLayoutViewLayout","e","layout","nativeEvent","inputToolbarFragment","_messageReaction$user","inputToolbarProps","onTextChanged","ref","maxLength","isMe","clearMessageReaction","onRemoveFile","newFileMedia","filter","disableComposer","handleReactionEmoji","emoji","messageId","handleActionReaction","action","setString","contextValues","showActionSheetWithOptions","getLocale","prevValue","isKeyboardMovingUp","duration","Provider","testID","WRAPPER","contentContainer","onLayout","top","left","right","bottom","pointerEvents","backgroundColor","images","imageIndex","visible","onRequestClose","txtSkipButton","onClose","subtitle","source","autoPlay","isProgressBar","isShowEmoji","onActionReaction","isVisible","isCanPause","onVideoRecorded","video","_video$path","_video$path2","_getThumbnail$","getThumbnail","videoFile","onPhotoCaptured","photo","_photo$path","_photo$path2","img","GiftedChatWrapper","append","currentMessages","concat","prepend"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\r\nimport React, {\r\n  createRef,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  type RefObject,\r\n} from 'react';\r\nimport {\r\n  ActionSheetProvider,\r\n  type ActionSheetProviderRef,\r\n} from '@expo/react-native-action-sheet';\r\nimport dayjs from 'dayjs';\r\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\r\nimport {\r\n  Platform,\r\n  TextInput,\r\n  View,\r\n  Clipboard,\r\n  type LayoutChangeEvent,\r\n} from 'react-native';\r\nimport { Actions } from '../Actions';\r\nimport { Avatar } from '../Avatar';\r\nimport Bubble from '../Bubble';\r\nimport { Composer } from '../Composer';\r\nimport { MAX_COMPOSER_HEIGHT, MIN_COMPOSER_HEIGHT, TEST_ID } from '../Constant';\r\nimport { Day } from '../Day';\r\nimport { GiftedAvatar } from '../GiftedAvatar';\r\nimport { GiftedChatContext } from '../GiftedChatContext';\r\nimport { InputToolbar } from '../InputToolbar';\r\nimport { LoadEarlier } from '../LoadEarlier';\r\nimport Message from '../Message';\r\nimport MessageContainer, { type AnimatedList } from '../MessageContainer';\r\nimport { MessageText } from '../MessageText';\r\nimport { type FileMessage, type IMessage, type User } from '../types';\r\nimport { Send } from '../Send';\r\nimport { SystemMessage } from '../SystemMessage';\r\nimport { Time } from '../Time';\r\nimport * as utils from '../utils';\r\nimport Animated, {\r\n  useAnimatedStyle,\r\n  useAnimatedReaction,\r\n  useSharedValue,\r\n  withTiming,\r\n  runOnJS,\r\n} from 'react-native-reanimated';\r\nimport {\r\n  KeyboardProvider,\r\n  useReanimatedKeyboardAnimation,\r\n} from 'react-native-keyboard-controller';\r\nimport { type GiftedChatProps } from './types';\r\nimport ImageView from 'react-native-image-viewing';\r\n\r\nimport stylesCommon from '../styles';\r\nimport styles from './styles';\r\nimport { MessageWithReaction } from '../MessageWithReaction';\r\nimport { MediaAllShow } from '../MediaAllShow';\r\nimport { generateThumbnails, normalizeFileUri } from '../utils';\r\nimport ImageCropPicker from 'react-native-image-crop-picker';\r\nimport { VideoModal } from '../../VideoPlayer/VideoModal';\r\nimport { CameraModal } from '../../Camera';\r\n\r\ndayjs.extend(localizedFormat);\r\n\r\nfunction GiftedChat<TMessage extends IMessage = IMessage>(\r\n  props: GiftedChatProps<TMessage>\r\n) {\r\n  const {\r\n    messages = [],\r\n    initialText = '',\r\n    isTyping,\r\n\r\n    // \"random\" function from here: https://stackoverflow.com/a/8084248/3452513\r\n    // we do not use uuid since it would add extra native dependency (https://www.npmjs.com/package/react-native-get-random-values)\r\n    // lib's user can decide which algorithm to use and pass it as a prop\r\n    messageIdGenerator = () =>\r\n      (Math.random() + 1).toString(36).substring(7) + dayjs().valueOf(),\r\n\r\n    user = {},\r\n    onSend,\r\n    locale = 'en',\r\n    renderLoading,\r\n    actionSheet = null,\r\n    textInputProps,\r\n    renderChatFooter = null,\r\n    renderInputToolbar = null,\r\n    bottomOffset = 0,\r\n    focusOnInputWhenOpeningKeyboard = true,\r\n    keyboardShouldPersistTaps = Platform.select({\r\n      ios: 'never',\r\n      android: 'always',\r\n      default: 'never',\r\n    }),\r\n    onInputTextChanged = null,\r\n    maxInputLength = null,\r\n    inverted = true,\r\n    minComposerHeight = MIN_COMPOSER_HEIGHT,\r\n    maxComposerHeight = MAX_COMPOSER_HEIGHT,\r\n    isKeyboardInternallyHandled = true,\r\n    onReactionEmoji = null,\r\n    labelReaction,\r\n    onFocusInput,\r\n    onBlurInput,\r\n    isShowEmojiReaction = true,\r\n  } = props;\r\n\r\n  const actionSheetRef = useRef<ActionSheetProviderRef>(null);\r\n\r\n  const messageContainerRef = useMemo(\r\n    () => props.messageContainerRef || createRef<AnimatedList<TMessage>>(),\r\n    [props.messageContainerRef]\r\n  ) as RefObject<AnimatedList<TMessage>>;\r\n\r\n  const textInputRef = useMemo(\r\n    () => props.textInputRef || createRef<TextInput>(),\r\n    [props.textInputRef]\r\n  );\r\n\r\n  const isTextInputWasFocused = useRef(false);\r\n\r\n  const [isInitialized, setIsInitialized] = useState<boolean>(false);\r\n  const [composerHeight, setComposerHeight] = useState<number>(\r\n    minComposerHeight!\r\n  );\r\n  const [text, setText] = useState<string | undefined>(() => props.text || '');\r\n  const [isImageViewerVisible, setIsImageViewerVisible] =\r\n    useState<boolean>(false);\r\n  const [fileSelected, setFileSelected] = useState<{ uri: string } | null>(\r\n    null\r\n  );\r\n  const [isShowVideoModal, setIsShowVideoModal] = useState<boolean>(false);\r\n  const [isTypingDisabled, setIsTypingDisabled] = useState<boolean>(false);\r\n  const [isShowCameraModal, setIsShowCameraModal] = useState<boolean>(false);\r\n\r\n  const [isMediaAllShow, setIsMediaAllShow] = useState<boolean>(false);\r\n  const [fileMediaAllLocal, setFileMediaAllLocal] = useState<IMessage | null>(\r\n    null\r\n  );\r\n  const [arrMessage, setArrMessage] = useState<TMessage[]>(messages);\r\n  const [messageReaction, setMessageReaction] = useState<\r\n    (IMessage & { isReply: boolean }) | null\r\n  >(null);\r\n\r\n  const [isModalReaction, setIsModalReaction] = useState<boolean>(false);\r\n  const [messageSelected, setMessageSelected] = useState<{\r\n    message: TMessage;\r\n    position: {\r\n      x: number;\r\n      y: number;\r\n      width: number;\r\n      height: number;\r\n      pageX: number;\r\n      pageY: number;\r\n    };\r\n  } | null>(null);\r\n  const [fileMedia, setFileMedia] = useState<FileMessage[]>([]);\r\n\r\n  const keyboard = useReanimatedKeyboardAnimation();\r\n  const trackingKeyboardMovement = useSharedValue(false);\r\n  const debounceEnableTypingTimeoutId =\r\n    useRef<ReturnType<typeof setTimeout>>(undefined);\r\n  const keyboardOffsetBottom = useSharedValue(0);\r\n\r\n  const contentStyleAnim = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        { translateY: keyboard.height.value - keyboardOffsetBottom.value },\r\n      ],\r\n    }),\r\n    [keyboard, keyboardOffsetBottom]\r\n  );\r\n\r\n  const getTextFromProp = useCallback(\r\n    (fallback: string) => {\r\n      if (props.text === undefined) return fallback;\r\n\r\n      return props.text;\r\n    },\r\n    [props.text]\r\n  );\r\n\r\n  /**\r\n   * Store text input focus status when keyboard hide to retrieve\r\n   * it afterwards if needed.\r\n   * `onKeyboardWillHide` may be called twice in sequence so we\r\n   * make a guard condition (eg. showing image picker)\r\n   */\r\n  const handleTextInputFocusWhenKeyboardHide = useCallback(() => {\r\n    if (!isTextInputWasFocused.current)\r\n      isTextInputWasFocused.current =\r\n        textInputRef.current?.isFocused() || false;\r\n  }, [textInputRef]);\r\n\r\n  /**\r\n   * Refocus the text input only if it was focused before showing keyboard.\r\n   * This is needed in some cases (eg. showing image picker).\r\n   */\r\n  const handleTextInputFocusWhenKeyboardShow = useCallback(() => {\r\n    if (\r\n      textInputRef.current &&\r\n      isTextInputWasFocused.current &&\r\n      !textInputRef.current.isFocused()\r\n    )\r\n      textInputRef.current.focus();\r\n\r\n    // Reset the indicator since the keyboard is shown\r\n    isTextInputWasFocused.current = false;\r\n  }, [textInputRef]);\r\n\r\n  const disableTyping = useCallback(() => {\r\n    clearTimeout(debounceEnableTypingTimeoutId.current);\r\n    setIsTypingDisabled(true);\r\n  }, []);\r\n\r\n  const enableTyping = useCallback(() => {\r\n    clearTimeout(debounceEnableTypingTimeoutId.current);\r\n    setIsTypingDisabled(false);\r\n  }, []);\r\n\r\n  const debounceEnableTyping = useCallback(() => {\r\n    clearTimeout(debounceEnableTypingTimeoutId.current);\r\n    debounceEnableTypingTimeoutId.current = setTimeout(() => {\r\n      enableTyping();\r\n    }, 50);\r\n  }, [enableTyping]);\r\n\r\n  const scrollToBottom = useCallback(\r\n    (isAnimated = true) => {\r\n      if (!messageContainerRef?.current) return;\r\n\r\n      if (inverted) {\r\n        messageContainerRef.current.scrollToOffset({\r\n          offset: 0,\r\n          animated: isAnimated,\r\n        });\r\n        return;\r\n      }\r\n\r\n      messageContainerRef.current.scrollToEnd({ animated: isAnimated });\r\n    },\r\n    [inverted, messageContainerRef]\r\n  );\r\n\r\n  const handlePressFile = useCallback((file: FileMessage) => {\r\n    const type = file?.typeFile;\r\n    switch (type) {\r\n      case 'video':\r\n        setFileSelected({\r\n          uri: file.uri,\r\n        });\r\n        setTimeout(() => {\r\n          setIsShowVideoModal(true);\r\n        }, 100);\r\n        break;\r\n      case 'image':\r\n        setFileSelected({\r\n          uri: file.uri,\r\n        });\r\n        setTimeout(() => {\r\n          setIsImageViewerVisible(true);\r\n        }, 100);\r\n        break;\r\n      default:\r\n        console.log('unknown');\r\n        break;\r\n    }\r\n  }, []);\r\n\r\n  const renderMessages = useMemo(() => {\r\n    if (!isInitialized) return null;\r\n\r\n    const { messagesContainerStyle, ...messagesContainerProps } = props;\r\n\r\n    return (\r\n      <View style={[stylesCommon.fill, messagesContainerStyle]}>\r\n        <MessageContainer<TMessage>\r\n          {...messagesContainerProps}\r\n          invertibleScrollViewProps={{\r\n            inverted,\r\n            keyboardShouldPersistTaps,\r\n          }}\r\n          messages={arrMessage}\r\n          forwardRef={messageContainerRef}\r\n          isTyping={isTyping}\r\n          onLongPressReaction={(message, position) => {\r\n            setMessageSelected({\r\n              message,\r\n              position,\r\n            });\r\n            setTimeout(() => {\r\n              setIsModalReaction(true);\r\n            }, 100);\r\n          }}\r\n          onPressFile={(\r\n            file: FileMessage,\r\n            isShowAll?: boolean,\r\n            arrMedia?: IMessage\r\n          ) => {\r\n            if (isShowAll) {\r\n              setFileMediaAllLocal(arrMedia || ({} as IMessage));\r\n              setTimeout(() => {\r\n                setIsMediaAllShow(true);\r\n              }, 100);\r\n              return;\r\n            }\r\n            handlePressFile(file);\r\n          }}\r\n        />\r\n        {renderChatFooter?.()}\r\n      </View>\r\n    );\r\n  }, [\r\n    isInitialized,\r\n    isTyping,\r\n    arrMessage,\r\n    props,\r\n    inverted,\r\n    keyboardShouldPersistTaps,\r\n    messageContainerRef,\r\n    renderChatFooter,\r\n    handlePressFile,\r\n  ]);\r\n\r\n  const notifyInputTextReset = useCallback(() => {\r\n    onInputTextChanged?.('');\r\n  }, [onInputTextChanged]);\r\n\r\n  const resetInputToolbar = useCallback(() => {\r\n    textInputRef.current?.clear();\r\n\r\n    notifyInputTextReset();\r\n\r\n    setComposerHeight(minComposerHeight!);\r\n    setText(getTextFromProp(''));\r\n    enableTyping();\r\n  }, [\r\n    minComposerHeight,\r\n    getTextFromProp,\r\n    textInputRef,\r\n    notifyInputTextReset,\r\n    enableTyping,\r\n  ]);\r\n\r\n  const _onSend = useCallback(\r\n    // eslint-disable-next-line @typescript-eslint/no-shadow\r\n    (messages: TMessage[] = [], shouldResetInputToolbar = false) => {\r\n      if (!Array.isArray(messages)) messages = [messages];\r\n\r\n      if (!messages[0]?.text && fileMedia?.length <= 0) return;\r\n\r\n      const convertFileMedia = fileMedia?.map((item) => {\r\n        return {\r\n          ...item,\r\n          uri: item?.uri || '',\r\n          thumbnailPreview: item?.thumbnailPreview || '',\r\n          mine: utils.getFileTypeFromPath(item?.uri || ''),\r\n        };\r\n      });\r\n\r\n      const newMessages: TMessage[] = messages?.map((message) => {\r\n        return {\r\n          ...message,\r\n          user: user!,\r\n          createdAt: new Date(),\r\n          _id: messageIdGenerator?.(),\r\n          file: convertFileMedia,\r\n        };\r\n      });\r\n\r\n      if (shouldResetInputToolbar === true) {\r\n        disableTyping();\r\n        resetInputToolbar();\r\n      }\r\n\r\n      setFileMedia([]);\r\n      let newMessagesWithReaction = newMessages;\r\n\r\n      if (messageReaction && messageReaction?.isReply) {\r\n        newMessagesWithReaction = newMessages.map((message) => {\r\n          return { ...message, messageReply: messageReaction };\r\n        });\r\n      }\r\n\r\n      setMessageReaction(null);\r\n      onSend?.(newMessagesWithReaction);\r\n\r\n      setTimeout(() => scrollToBottom(), 10);\r\n    },\r\n    [\r\n      onSend,\r\n      user,\r\n      messageIdGenerator,\r\n      fileMedia,\r\n      disableTyping,\r\n      resetInputToolbar,\r\n      scrollToBottom,\r\n      messageReaction,\r\n    ]\r\n  );\r\n\r\n  const onInputSizeChanged = useCallback(\r\n    (size: { height: number }) => {\r\n      const newComposerHeight = Math.max(\r\n        minComposerHeight!,\r\n        Math.min(maxComposerHeight!, size.height)\r\n      );\r\n\r\n      setComposerHeight(newComposerHeight);\r\n    },\r\n    [maxComposerHeight, minComposerHeight]\r\n  );\r\n\r\n  const _onInputTextChanged = useCallback(\r\n    (_text: string) => {\r\n      if (isTypingDisabled) return;\r\n\r\n      onInputTextChanged?.(_text);\r\n\r\n      // Only set state if it's not being overridden by a prop.\r\n      if (props.text === undefined) setText(_text);\r\n    },\r\n    [onInputTextChanged, isTypingDisabled, props.text]\r\n  );\r\n\r\n  const onPressPickMedia = useCallback(\r\n    async (type: 'camera' | 'pick') => {\r\n      if (type === 'camera') {\r\n        setIsShowCameraModal(true);\r\n      } else {\r\n        const result = await ImageCropPicker.openPicker({\r\n          multiple: true,\r\n        });\r\n        const fileMediaAll = result?.map((item) => {\r\n          const uri = item.path || item.sourceURL;\r\n\r\n          return {\r\n            uri: uri,\r\n            id: dayjs().valueOf().toString() + item?.filename,\r\n            size: item?.size || 0,\r\n            name: item?.filename || '',\r\n            fileExtension: `.${uri?.split('.').pop()}` || '',\r\n            typeFile: 'image',\r\n            thumbnailPreview: uri,\r\n            width: item?.width,\r\n            height: item?.height,\r\n          };\r\n        });\r\n\r\n        setFileMedia([...fileMedia, ...fileMediaAll] as FileMessage[]);\r\n      }\r\n    },\r\n    [fileMedia]\r\n  );\r\n\r\n  const onInitialLayoutViewLayout = useCallback(\r\n    (e: LayoutChangeEvent) => {\r\n      if (isInitialized) return;\r\n\r\n      const { layout } = e.nativeEvent;\r\n\r\n      if (layout.height <= 0) return;\r\n\r\n      notifyInputTextReset();\r\n\r\n      setIsInitialized(true);\r\n      setComposerHeight(minComposerHeight!);\r\n      setText(getTextFromProp(initialText));\r\n    },\r\n    [\r\n      isInitialized,\r\n      initialText,\r\n      minComposerHeight,\r\n      notifyInputTextReset,\r\n      getTextFromProp,\r\n    ]\r\n  );\r\n\r\n  const inputToolbarFragment = useMemo(() => {\r\n    if (!isInitialized) return null;\r\n\r\n    const inputToolbarProps = {\r\n      ...props,\r\n      text: getTextFromProp(text!),\r\n      composerHeight: Math.max(minComposerHeight!, composerHeight),\r\n      onSend: _onSend,\r\n      onInputSizeChanged,\r\n      onTextChanged: _onInputTextChanged,\r\n      textInputProps: {\r\n        ...textInputProps,\r\n        ref: textInputRef,\r\n        maxLength: isTypingDisabled ? 0 : maxInputLength,\r\n      },\r\n    };\r\n\r\n    if (renderInputToolbar) return renderInputToolbar(inputToolbarProps);\r\n\r\n    return (\r\n      <InputToolbar\r\n        isMe={(user as User)?._id === messageReaction?.user?._id}\r\n        onFocusInput={onFocusInput}\r\n        onBlurInput={onBlurInput}\r\n        labelReaction={labelReaction}\r\n        messageReaction={messageReaction as IMessage & { isReply: boolean }}\r\n        clearMessageReaction={() => setMessageReaction(null)}\r\n        onRemoveFile={(file: FileMessage) => {\r\n          const newFileMedia = fileMedia.filter((item) => item.id !== file.id);\r\n          setFileMedia(newFileMedia);\r\n        }}\r\n        onPressFile={(file: FileMessage) => {\r\n          handlePressFile(file);\r\n        }}\r\n        fileMedia={fileMedia}\r\n        onPressPickMedia={onPressPickMedia}\r\n        disableComposer={props.disableComposer}\r\n        {...inputToolbarProps}\r\n      />\r\n    );\r\n  }, [\r\n    isInitialized,\r\n    _onSend,\r\n    getTextFromProp,\r\n    maxInputLength,\r\n    minComposerHeight,\r\n    onInputSizeChanged,\r\n    props,\r\n    text,\r\n    renderInputToolbar,\r\n    composerHeight,\r\n    isTypingDisabled,\r\n    textInputRef,\r\n    textInputProps,\r\n    _onInputTextChanged,\r\n    onPressPickMedia,\r\n    fileMedia,\r\n    handlePressFile,\r\n    messageReaction,\r\n    labelReaction,\r\n    onFocusInput,\r\n    onBlurInput,\r\n    user,\r\n  ]);\r\n\r\n  const handleReactionEmoji = useCallback(\r\n    (emoji: string, messageId: string) => {\r\n      onReactionEmoji?.(emoji, messageId);\r\n    },\r\n    [onReactionEmoji]\r\n  );\r\n\r\n  const handleActionReaction = useCallback(\r\n    (message: IMessage, action: string) => {\r\n      switch (action) {\r\n        case 'reply':\r\n          setMessageReaction({ ...message, isReply: true });\r\n          break;\r\n        case 'copy':\r\n          Clipboard.setString(message.text || '');\r\n          break;\r\n        case 'other':\r\n          // setMessageReaction({ ...message, isOther: true });\r\n          break;\r\n        default:\r\n          setMessageReaction(null);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const contextValues = useMemo(\r\n    () => ({\r\n      actionSheet:\r\n        actionSheet ||\r\n        (() => ({\r\n          showActionSheetWithOptions:\r\n            actionSheetRef.current!.showActionSheetWithOptions,\r\n        })),\r\n      getLocale: () => locale,\r\n    }),\r\n    [actionSheet, locale]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (props.text != null) setText(props.text);\r\n  }, [props.text]);\r\n\r\n  useEffect(() => {\r\n    setArrMessage(messages);\r\n  }, [messages]);\r\n\r\n  useAnimatedReaction(\r\n    () => -keyboard.height.value,\r\n    (value, prevValue) => {\r\n      if (prevValue !== null && value !== prevValue) {\r\n        const isKeyboardMovingUp = value > prevValue;\r\n        if (isKeyboardMovingUp !== trackingKeyboardMovement.value) {\r\n          trackingKeyboardMovement.value = isKeyboardMovingUp;\r\n          keyboardOffsetBottom.value = withTiming(\r\n            isKeyboardMovingUp ? bottomOffset : 0,\r\n            {\r\n              // If `bottomOffset` exists, we change the duration to a smaller value to fix the delay in the keyboard animation speed\r\n              duration: bottomOffset ? 150 : 400,\r\n            }\r\n          );\r\n\r\n          if (focusOnInputWhenOpeningKeyboard)\r\n            if (isKeyboardMovingUp)\r\n              runOnJS(handleTextInputFocusWhenKeyboardShow)();\r\n            else runOnJS(handleTextInputFocusWhenKeyboardHide)();\r\n\r\n          if (value === 0) {\r\n            runOnJS(enableTyping)();\r\n          } else {\r\n            runOnJS(disableTyping)();\r\n            runOnJS(debounceEnableTyping)();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [\r\n      keyboard,\r\n      trackingKeyboardMovement,\r\n      focusOnInputWhenOpeningKeyboard,\r\n      handleTextInputFocusWhenKeyboardHide,\r\n      handleTextInputFocusWhenKeyboardShow,\r\n      enableTyping,\r\n      disableTyping,\r\n      debounceEnableTyping,\r\n      bottomOffset,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <GiftedChatContext.Provider value={contextValues}>\r\n      <ActionSheetProvider ref={actionSheetRef}>\r\n        <View\r\n          testID={TEST_ID.WRAPPER}\r\n          style={[stylesCommon.fill, styles.contentContainer]}\r\n          onLayout={onInitialLayoutViewLayout}\r\n        >\r\n          {isInitialized ? (\r\n            <Animated.View\r\n              style={[\r\n                stylesCommon.fill,\r\n                isKeyboardInternallyHandled && contentStyleAnim,\r\n              ]}\r\n            >\r\n              {renderMessages}\r\n              {inputToolbarFragment}\r\n              <View\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  bottom: 0,\r\n                  pointerEvents: 'box-none',\r\n                  backgroundColor: 'transparent',\r\n                }}\r\n              >\r\n                <ImageView\r\n                  images={fileSelected ? [{ uri: fileSelected.uri }] : []}\r\n                  imageIndex={0}\r\n                  visible={isImageViewerVisible}\r\n                  onRequestClose={() => setIsImageViewerVisible(false)}\r\n                />\r\n                <VideoModal\r\n                  txtSkipButton={'X'}\r\n                  visible={isShowVideoModal}\r\n                  onClose={() => setIsShowVideoModal(false)}\r\n                  subtitle={{}}\r\n                  source={fileSelected?.uri || ''}\r\n                  autoPlay={true}\r\n                  isProgressBar={false}\r\n                />\r\n                <MessageWithReaction\r\n                  isShowEmoji={isShowEmojiReaction}\r\n                  onReactionEmoji={handleReactionEmoji}\r\n                  onActionReaction={handleActionReaction}\r\n                  user={user as User}\r\n                  isVisible={isModalReaction}\r\n                  onClose={() => setIsModalReaction(false)}\r\n                  message={messageSelected?.message || ({} as TMessage)}\r\n                  position={messageSelected?.position || ({} as any)}\r\n                />\r\n                <MediaAllShow\r\n                  fileMediaAll={fileMediaAllLocal}\r\n                  isVisible={isMediaAllShow}\r\n                  onClose={() => setIsMediaAllShow(false)}\r\n                  onPressFile={(file) => {\r\n                    setIsMediaAllShow(false);\r\n                    setTimeout(() => {\r\n                      handlePressFile(file);\r\n                    }, 350);\r\n                  }}\r\n                />\r\n                <CameraModal\r\n                  isCanPause={false}\r\n                  onVideoRecorded={async (video) => {\r\n                    const getThumbnail = await generateThumbnails([\r\n                      {\r\n                        uri: normalizeFileUri(video.path),\r\n                        id: dayjs().valueOf().toString(),\r\n                        size: video?.size || 0,\r\n                      },\r\n                    ]);\r\n                    setIsShowCameraModal(false);\r\n                    const videoFile = {\r\n                      uri: normalizeFileUri(video.path),\r\n                      id: dayjs().valueOf().toString(),\r\n                      size: video?.size || 0,\r\n                      name:\r\n                        video?.path?.split('/').pop() ||\r\n                        `video - ${dayjs().valueOf().toString()}`,\r\n                      fileExtension: `.${video?.path?.split('.').pop()}`,\r\n                      typeFile: 'video',\r\n                      width: video?.width,\r\n                      height: video?.height,\r\n                      duration: video?.duration,\r\n                      thumbnailPreview: getThumbnail[0]?.path || '',\r\n                    };\r\n\r\n                    setFileMedia([...fileMedia, videoFile as FileMessage]);\r\n                  }}\r\n                  onPhotoCaptured={(photo) => {\r\n                    setIsShowCameraModal(false);\r\n\r\n                    const img = {\r\n                      uri: normalizeFileUri(photo.path),\r\n                      id: dayjs().valueOf().toString(),\r\n                      size: photo?.size || 0,\r\n                      name:\r\n                        photo?.path?.split('/').pop() ||\r\n                        `image - ${dayjs().valueOf().toString()}`,\r\n                      fileExtension: `.${photo?.path?.split('.').pop()}`,\r\n                      typeFile: 'image',\r\n                      thumbnailPreview: normalizeFileUri(photo?.path || ''),\r\n                      width: photo?.width,\r\n                      height: photo?.height,\r\n                    };\r\n                    setFileMedia([...fileMedia, img as FileMessage]);\r\n                  }}\r\n                  visible={isShowCameraModal}\r\n                  onClose={() => setIsShowCameraModal(false)}\r\n                />\r\n              </View>\r\n            </Animated.View>\r\n          ) : (\r\n            renderLoading?.()\r\n          )}\r\n        </View>\r\n      </ActionSheetProvider>\r\n    </GiftedChatContext.Provider>\r\n  );\r\n}\r\n\r\nfunction GiftedChatWrapper<TMessage extends IMessage = IMessage>(\r\n  props: GiftedChatProps<TMessage>\r\n) {\r\n  return (\r\n    <KeyboardProvider>\r\n      <GiftedChat<TMessage> {...props} />\r\n    </KeyboardProvider>\r\n  );\r\n}\r\n\r\nGiftedChatWrapper.append = <TMessage extends IMessage>(\r\n  currentMessages: TMessage[] = [],\r\n  messages: TMessage[],\r\n  inverted = true\r\n) => {\r\n  if (!Array.isArray(messages)) messages = [messages];\r\n\r\n  return inverted\r\n    ? messages.concat(currentMessages)\r\n    : currentMessages.concat(messages);\r\n};\r\n\r\nGiftedChatWrapper.prepend = <TMessage extends IMessage>(\r\n  currentMessages: TMessage[] = [],\r\n  messages: TMessage[],\r\n  inverted = true\r\n) => {\r\n  if (!Array.isArray(messages)) messages = [messages];\r\n\r\n  return inverted\r\n    ? currentMessages.concat(messages)\r\n    : messages.concat(currentMessages);\r\n};\r\n\r\nexport * from '../types';\r\n\r\nexport {\r\n  GiftedChatWrapper as GiftedChat,\r\n  Actions,\r\n  Avatar,\r\n  Bubble,\r\n  SystemMessage,\r\n  MessageText,\r\n  Composer,\r\n  Day,\r\n  InputToolbar,\r\n  LoadEarlier,\r\n  Message,\r\n  MessageContainer,\r\n  Send,\r\n  Time,\r\n  GiftedAvatar,\r\n  utils,\r\n};\r\n"],"mappings":"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","ignoreList":[]}