{"version":3,"names":["React","useEffect","useRef","Animated","View","StyleSheet","Color","TypingIndicator","size","speed","dotColor","defaultBlue","bubbleColor","leftBubbleBackground","style","v1","Value","current","v2","v3","animate","v","delay","loop","sequence","timing","toValue","duration","useNativeDriver","a1","a2","a3","start","stop","dotAnimStyle","opacity","interpolate","inputRange","outputRange","transform","translateY","scale","dotBase","width","height","borderRadius","backgroundColor","marginHorizontal","Math","max","round","createElement","styles","container","paddingVertical","paddingHorizontal","create","position","bottom","left","flexDirection","alignItems","alignSelf","justifyContent","borderWidth","borderColor","defaultColor"],"sources":["TypingIndicator.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Animated, View, StyleSheet, type ViewStyle } from 'react-native';\nimport Color from './Color';\n\ntype Props = {\n  size?: number; // đường kính mỗi chấm\n  speed?: number; // ms cho 1 nhịp lên/xuống\n  dotColor?: string;\n  bubbleColor?: string;\n  style?: ViewStyle | ViewStyle[];\n};\n\nconst TypingIndicator = ({\n  size = 6,\n  speed = 320,\n  dotColor = Color.defaultBlue,\n  bubbleColor = Color.leftBubbleBackground,\n  style,\n}: Props) => {\n  const v1 = useRef(new Animated.Value(0)).current;\n  const v2 = useRef(new Animated.Value(0)).current;\n  const v3 = useRef(new Animated.Value(0)).current;\n\n  const animate = (v: Animated.Value, delay: number) =>\n    Animated.loop(\n      Animated.sequence([\n        Animated.delay(delay),\n        Animated.timing(v, {\n          toValue: 1,\n          duration: speed,\n          useNativeDriver: true,\n        }),\n        Animated.timing(v, {\n          toValue: 0,\n          duration: speed,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n\n  useEffect(() => {\n    const a1 = animate(v1, 0);\n    const a2 = animate(v2, speed / 2);\n    const a3 = animate(v3, speed);\n\n    a1.start();\n    a2.start();\n    a3.start();\n    return () => {\n      a1.stop();\n      a2.stop();\n      a3.stop();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [speed, v1, v2, v3]);\n\n  const dotAnimStyle = (v: Animated.Value) => ({\n    opacity: v.interpolate({ inputRange: [0, 1], outputRange: [0.3, 1] }),\n    transform: [\n      {\n        translateY: v.interpolate({ inputRange: [0, 1], outputRange: [0, -1] }),\n      },\n      { scale: v.interpolate({ inputRange: [0, 1], outputRange: [1, 1.15] }) },\n    ],\n  });\n\n  const dotBase = {\n    width: size,\n    height: size,\n    borderRadius: size / 2,\n    backgroundColor: dotColor,\n    marginHorizontal: Math.max(1, Math.round(size * 0.33)),\n  };\n\n  return (\n    <View\n      style={[\n        styles.container,\n        {\n          backgroundColor: bubbleColor,\n          paddingVertical: Math.max(4, Math.round(size * 0.8)),\n          paddingHorizontal: Math.max(6, Math.round(size * 1.2)),\n          borderRadius: Math.round(size * 2.2),\n        },\n        style,\n      ]}\n    >\n      <Animated.View style={[dotBase, dotAnimStyle(v1)]} />\n      <Animated.View style={[dotBase, dotAnimStyle(v2)]} />\n      <Animated.View style={[dotBase, dotAnimStyle(v3)]} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    bottom: 8,\n    left: 8,\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'flex-start',\n    height: 26,\n    width: 56,\n    justifyContent: 'center',\n    borderWidth: 0.2,\n    borderColor: Color.defaultColor,\n  },\n});\n\nexport default TypingIndicator;\n"],"mappings":"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","ignoreList":[]}