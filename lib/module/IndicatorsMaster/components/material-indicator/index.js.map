{"version":3,"names":["PropTypes","React","PureComponent","View","Animated","Easing","Indicator","styles","MaterialIndicator","constructor","args","_defineProperty","index","progress","size","color","trackWidth","borderWidth","animationDuration","props","frames","easing","bezier","sa","ea","sequences","rotations","inputRange","Array","from","_item","frameIndex","outputRange","rotation","sequence","Math","ceil","direction","layerStyle","width","height","transform","rotate","interpolate","viewportStyle","translateY","containerStyle","overflow","offsetStyle","top","lineStyle","borderColor","borderRadius","createElement","style","layer","key","collapsable","render","container","_extends","renderComponent","_renderComponent","count","propTypes","number","string"],"sources":["index.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { PureComponent } from 'react';\r\nimport { View, Animated, Easing } from 'react-native';\r\n\r\nimport Indicator from '../indicator';\r\nimport styles from './styles';\r\n\r\nexport default class MaterialIndicator extends PureComponent {\r\n  static defaultProps = {\r\n    animationDuration: 4000,\r\n\r\n    color: 'rgb(0, 0, 0)',\r\n    size: 40,\r\n  };\r\n\r\n  static propTypes = {\r\n    ...Indicator.propTypes,\r\n\r\n    trackWidth: PropTypes.number,\r\n    color: PropTypes.string,\r\n    size: PropTypes.number,\r\n  };\r\n\r\n  _renderComponent = ({ index, progress }: any) => {\r\n    let {\r\n      size,\r\n      color,\r\n      trackWidth: borderWidth = size / 10,\r\n      animationDuration,\r\n    }: any = this.props;\r\n\r\n    let frames = (60 * animationDuration) / 1000;\r\n    let easing = Easing.bezier(0.4, 0.0, 0.7, 1.0);\r\n\r\n    let sa = 7.5;\r\n    let ea = 30;\r\n\r\n    let sequences = 3;\r\n    let rotations = 5;\r\n\r\n    let inputRange = Array.from(\r\n      new Array(frames),\r\n      (_item, frameIndex) => frameIndex / (frames - 1)\r\n    );\r\n\r\n    let outputRange = Array.from(new Array(frames), (_item, frameIndex) => {\r\n      let progress = (2 * sequences * frameIndex) / (frames - 1);\r\n      let rotation = index ? +(360 - sa) : -(180 - sa);\r\n\r\n      let sequence = Math.ceil(progress);\r\n\r\n      if (sequence % 2) {\r\n        progress = progress - sequence + 1;\r\n      } else {\r\n        progress = sequence - progress;\r\n      }\r\n\r\n      let direction = index ? -1 : +1;\r\n\r\n      return (\r\n        direction * (180 - (sa + ea)) * easing(progress) + rotation + 'deg'\r\n      );\r\n    });\r\n\r\n    let layerStyle = {\r\n      width: size,\r\n      height: size,\r\n      transform: [\r\n        {\r\n          rotate: 90 - sa + 'deg',\r\n        },\r\n        {\r\n          rotate: progress.interpolate({\r\n            inputRange: [0, 1],\r\n            outputRange: ['0deg', 360 * rotations + 'deg'],\r\n          }),\r\n        },\r\n      ],\r\n    };\r\n\r\n    let viewportStyle = {\r\n      width: size,\r\n      height: size,\r\n      transform: [\r\n        {\r\n          translateY: index ? -size / 2 : 0,\r\n        },\r\n        {\r\n          rotate: progress.interpolate({ inputRange, outputRange }),\r\n        },\r\n      ],\r\n    };\r\n\r\n    let containerStyle = {\r\n      width: size,\r\n      height: size / 2,\r\n      overflow: 'hidden',\r\n    };\r\n\r\n    let offsetStyle = index ? { top: size / 2 } : null;\r\n\r\n    let lineStyle = {\r\n      width: size,\r\n      height: size,\r\n      borderColor: color,\r\n      borderRadius: size / 2,\r\n      borderWidth,\r\n    };\r\n\r\n    return (\r\n      <Animated.View style={styles.layer} {...{ key: index }}>\r\n        <Animated.View style={layerStyle}>\r\n          <Animated.View\r\n            style={[containerStyle, offsetStyle] as any}\r\n            collapsable={false}\r\n          >\r\n            <Animated.View style={viewportStyle}>\r\n              <Animated.View style={containerStyle as any} collapsable={false}>\r\n                <Animated.View style={lineStyle} />\r\n              </Animated.View>\r\n            </Animated.View>\r\n          </Animated.View>\r\n        </Animated.View>\r\n      </Animated.View>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let { style, size: width, size: height, ...props }: any = this.props;\r\n\r\n    return (\r\n      <View style={[styles.container, style]}>\r\n        <Indicator\r\n          style={{ width, height }}\r\n          renderComponent={this._renderComponent}\r\n          {...props}\r\n          count={2}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}