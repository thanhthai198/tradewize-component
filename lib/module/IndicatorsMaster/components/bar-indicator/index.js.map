{"version":3,"names":["PropTypes","React","PureComponent","View","Animated","Indicator","styles","BarIndicator","constructor","props","renderComponent","bind","outputRange","base","index","count","samples","range","Array","from","_item","Math","abs","cos","PI","j","unshift","pop","slice","progress","color","backgroundColor","size","animationDuration","frames","inputRange","width","floor","height","radius","ceil","containerStyle","marginHorizontal","topStyle","borderTopLeftRadius","borderTopRightRadius","transform","translateY","interpolate","bottomStyle","borderBottomLeftRadius","borderBottomRightRadius","createElement","style","key","render","_extends","container","_defineProperty","propTypes","string","number"],"sources":["index.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { PureComponent } from 'react';\r\nimport { View, Animated } from 'react-native';\r\n\r\nimport Indicator from '../indicator';\r\nimport styles from './styles';\r\n\r\nexport default class BarIndicator extends PureComponent {\r\n  static defaultProps = {\r\n    count: 3,\r\n\r\n    color: 'rgb(0, 0, 0)',\r\n    size: 40,\r\n  };\r\n\r\n  static propTypes = {\r\n    ...Indicator.propTypes,\r\n\r\n    color: PropTypes.string,\r\n    size: PropTypes.number,\r\n  };\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.renderComponent = this.renderComponent.bind(this);\r\n  }\r\n\r\n  outputRange(base: number, index: number, count: number, samples: number) {\r\n    let range = Array.from(\r\n      new Array(samples),\r\n      (_item, index) =>\r\n        base * Math.abs(Math.cos((Math.PI * index) / (samples - 1)))\r\n    );\r\n\r\n    for (let j = 0; j < index * (samples / count); j++) {\r\n      range.unshift(range.pop() as number);\r\n    }\r\n\r\n    range.unshift(...range.slice(-1));\r\n\r\n    return range;\r\n  }\r\n\r\n  renderComponent({ index, count, progress }: any) {\r\n    let { color: backgroundColor, size, animationDuration }: any = this.props;\r\n\r\n    let frames = (60 * animationDuration) / 1000;\r\n    let samples = 0;\r\n\r\n    do samples += count;\r\n    while (samples < frames);\r\n\r\n    let inputRange = Array.from(\r\n      new Array(samples + 1),\r\n      (_item, index) => index / samples\r\n    );\r\n\r\n    let width = Math.floor(size / 5),\r\n      height = Math.floor(size / 2),\r\n      radius = Math.ceil(width / 2);\r\n\r\n    let containerStyle = {\r\n      height: size,\r\n      width: width,\r\n      marginHorizontal: radius,\r\n    };\r\n\r\n    let topStyle = {\r\n      width,\r\n      height,\r\n      backgroundColor,\r\n      borderTopLeftRadius: radius,\r\n      borderTopRightRadius: radius,\r\n      transform: [\r\n        {\r\n          translateY: progress.interpolate({\r\n            inputRange,\r\n            outputRange: this.outputRange(\r\n              +(height - radius) / 2,\r\n              index,\r\n              count,\r\n              samples\r\n            ),\r\n          }),\r\n        },\r\n      ],\r\n    };\r\n\r\n    let bottomStyle = {\r\n      width,\r\n      height,\r\n      backgroundColor,\r\n      borderBottomLeftRadius: radius,\r\n      borderBottomRightRadius: radius,\r\n      transform: [\r\n        {\r\n          translateY: progress.interpolate({\r\n            inputRange,\r\n            outputRange: this.outputRange(\r\n              -(height - radius) / 2,\r\n              index,\r\n              count,\r\n              samples\r\n            ),\r\n          }),\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n      <View style={containerStyle} {...{ key: index }}>\r\n        <Animated.View style={topStyle} />\r\n        <Animated.View style={bottomStyle} />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let { style, ...props }: any = this.props;\r\n\r\n    return (\r\n      <Indicator\r\n        style={[styles.container, style]}\r\n        renderComponent={this.renderComponent}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}