{"version":3,"names":["React","View","Modal","TouchableOpacity","StyleSheet","Dimensions","Animated","Text","width","screenWidth","height","screenHeight","get","Popup","visible","onClose","children","position","backgroundColor","borderRadius","shadowColor","shadowOpacity","shadowRadius","elevation","fadeAnim","useRef","Value","current","scaleAnim","useEffect","parallel","timing","toValue","duration","useNativeDriver","spring","tension","friction","start","handleBackdropPress","getPopupPosition","left","top","x","y","popupPosition","createElement","transparent","animationType","onRequestClose","style","styles","backdrop","opacity","backdropTouchable","activeOpacity","onPress","popup","transform","scale","closeButton","closeButtonText","content","create","flex","justifyContent","alignItems","shadowOffset","right","zIndex","fontSize","fontWeight","color","padding"],"sources":["Popup.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  View,\r\n  Modal,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  Dimensions,\r\n  Animated,\r\n  Text,\r\n} from 'react-native';\r\n\r\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\r\n\r\ninterface PopupProps {\r\n  visible: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  position?: { x: number; y: number };\r\n  width?: number;\r\n  height?: number;\r\n  backgroundColor?: string;\r\n  borderRadius?: number;\r\n  shadowColor?: string;\r\n  shadowOpacity?: number;\r\n  shadowRadius?: number;\r\n  elevation?: number;\r\n}\r\n\r\nconst Popup: React.FC<PopupProps> = ({\r\n  visible,\r\n  onClose,\r\n  children,\r\n  position,\r\n  width = 200,\r\n  height = 150,\r\n  backgroundColor = '#FFFFFF',\r\n  borderRadius = 12,\r\n  shadowColor = '#000',\r\n  shadowOpacity = 0.25,\r\n  shadowRadius = 10,\r\n  elevation = 8,\r\n}) => {\r\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\r\n  const scaleAnim = React.useRef(new Animated.Value(0.8)).current;\r\n\r\n  React.useEffect(() => {\r\n    if (visible) {\r\n      Animated.parallel([\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 200,\r\n          useNativeDriver: true,\r\n        }),\r\n        Animated.spring(scaleAnim, {\r\n          toValue: 1,\r\n          tension: 100,\r\n          friction: 8,\r\n          useNativeDriver: true,\r\n        }),\r\n      ]).start();\r\n    } else {\r\n      Animated.parallel([\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 0,\r\n          duration: 150,\r\n          useNativeDriver: true,\r\n        }),\r\n        Animated.timing(scaleAnim, {\r\n          toValue: 0.8,\r\n          duration: 150,\r\n          useNativeDriver: true,\r\n        }),\r\n      ]).start();\r\n    }\r\n  }, [visible, fadeAnim, scaleAnim]);\r\n\r\n  const handleBackdropPress = () => {\r\n    onClose();\r\n  };\r\n\r\n  // Calculate position to center popup at button position\r\n  const getPopupPosition = () => {\r\n    if (!position) {\r\n      return {\r\n        left: screenWidth / 2 - width / 2,\r\n        top: screenHeight / 2 - height / 2,\r\n      };\r\n    }\r\n\r\n    // Center popup at button position\r\n    let left = position.x - width / 2;\r\n    let top = position.y - height / 2;\r\n\r\n    // Ensure popup doesn't go off screen\r\n    if (left < 10) left = 10;\r\n    if (left + width > screenWidth - 10) left = screenWidth - width - 10;\r\n    if (top < 50) top = 50;\r\n    if (top + height > screenHeight - 50) top = screenHeight - height - 50;\r\n\r\n    return { left, top };\r\n  };\r\n\r\n  const popupPosition = getPopupPosition();\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      transparent\r\n      animationType=\"none\"\r\n      onRequestClose={onClose}\r\n    >\r\n      <Animated.View\r\n        style={[\r\n          styles.backdrop,\r\n          {\r\n            opacity: fadeAnim,\r\n          },\r\n        ]}\r\n      >\r\n        <TouchableOpacity\r\n          style={styles.backdropTouchable}\r\n          activeOpacity={1}\r\n          onPress={handleBackdropPress}\r\n        >\r\n          <Animated.View\r\n            style={[\r\n              styles.popup,\r\n              {\r\n                width,\r\n                height,\r\n                backgroundColor,\r\n                borderRadius,\r\n                left: popupPosition.left,\r\n                top: popupPosition.top,\r\n                shadowColor,\r\n                shadowOpacity,\r\n                shadowRadius,\r\n                elevation,\r\n                transform: [{ scale: scaleAnim }],\r\n              },\r\n            ]}\r\n          >\r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={onClose}\r\n              activeOpacity={0.7}\r\n            >\r\n              <Text style={styles.closeButtonText}>Ã—</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.content}>{children}</View>\r\n          </Animated.View>\r\n        </TouchableOpacity>\r\n      </Animated.View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  backdrop: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  backdropTouchable: {\r\n    flex: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  popup: {\r\n    position: 'absolute',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: 8,\r\n    right: 8,\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  closeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#666',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 16,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default Popup;\r\n"],"mappings":"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","ignoreList":[]}