{"version":3,"names":["React","View","Modal","TouchableOpacity","StyleSheet","Dimensions","Animated","Text","width","screenWidth","height","screenHeight","get","Popup","visible","onClose","children","position","backgroundColor","borderRadius","shadowColor","shadowOpacity","shadowRadius","elevation","fadeAnim","useRef","Value","current","scaleAnim","useEffect","parallel","timing","toValue","duration","useNativeDriver","spring","tension","friction","start","handleBackdropPress","getPopupPosition","left","top","x","y","popupPosition","createElement","transparent","animationType","onRequestClose","style","styles","backdrop","opacity","backdropTouchable","activeOpacity","onPress","popup","transform","scale","closeButton","closeButtonText","content","create","flex","justifyContent","alignItems","shadowOffset","right","zIndex","fontSize","fontWeight","color","padding"],"sources":["Popup.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  View,\n  Modal,\n  TouchableOpacity,\n  StyleSheet,\n  Dimensions,\n  Animated,\n  Text,\n} from 'react-native';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\ninterface PopupProps {\n  visible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  position?: { x: number; y: number };\n  width?: number;\n  height?: number;\n  backgroundColor?: string;\n  borderRadius?: number;\n  shadowColor?: string;\n  shadowOpacity?: number;\n  shadowRadius?: number;\n  elevation?: number;\n}\n\nconst Popup: React.FC<PopupProps> = ({\n  visible,\n  onClose,\n  children,\n  position,\n  width = 200,\n  height = 150,\n  backgroundColor = '#FFFFFF',\n  borderRadius = 12,\n  shadowColor = '#000',\n  shadowOpacity = 0.25,\n  shadowRadius = 10,\n  elevation = 8,\n}) => {\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\n  const scaleAnim = React.useRef(new Animated.Value(0.8)).current;\n\n  React.useEffect(() => {\n    if (visible) {\n      Animated.parallel([\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 200,\n          useNativeDriver: true,\n        }),\n        Animated.spring(scaleAnim, {\n          toValue: 1,\n          tension: 100,\n          friction: 8,\n          useNativeDriver: true,\n        }),\n      ]).start();\n    } else {\n      Animated.parallel([\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 150,\n          useNativeDriver: true,\n        }),\n        Animated.timing(scaleAnim, {\n          toValue: 0.8,\n          duration: 150,\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }, [visible, fadeAnim, scaleAnim]);\n\n  const handleBackdropPress = () => {\n    onClose();\n  };\n\n  // Calculate position to center popup at button position\n  const getPopupPosition = () => {\n    if (!position) {\n      return {\n        left: screenWidth / 2 - width / 2,\n        top: screenHeight / 2 - height / 2,\n      };\n    }\n\n    // Center popup at button position\n    let left = position.x - width / 2;\n    let top = position.y - height / 2;\n\n    // Ensure popup doesn't go off screen\n    if (left < 10) left = 10;\n    if (left + width > screenWidth - 10) left = screenWidth - width - 10;\n    if (top < 50) top = 50;\n    if (top + height > screenHeight - 50) top = screenHeight - height - 50;\n\n    return { left, top };\n  };\n\n  const popupPosition = getPopupPosition();\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"none\"\n      onRequestClose={onClose}\n    >\n      <Animated.View\n        style={[\n          styles.backdrop,\n          {\n            opacity: fadeAnim,\n          },\n        ]}\n      >\n        <TouchableOpacity\n          style={styles.backdropTouchable}\n          activeOpacity={1}\n          onPress={handleBackdropPress}\n        >\n          <Animated.View\n            style={[\n              styles.popup,\n              {\n                width,\n                height,\n                backgroundColor,\n                borderRadius,\n                left: popupPosition.left,\n                top: popupPosition.top,\n                shadowColor,\n                shadowOpacity,\n                shadowRadius,\n                elevation,\n                transform: [{ scale: scaleAnim }],\n              },\n            ]}\n          >\n            <TouchableOpacity\n              style={styles.closeButton}\n              onPress={onClose}\n              activeOpacity={0.7}\n            >\n              <Text style={styles.closeButtonText}>Ã—</Text>\n            </TouchableOpacity>\n            <View style={styles.content}>{children}</View>\n          </Animated.View>\n        </TouchableOpacity>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  backdropTouchable: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n  },\n  popup: {\n    position: 'absolute',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n  },\n  closeButton: {\n    position: 'absolute',\n    top: 8,\n    right: 8,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: 'rgba(0, 0, 0, 0.1)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1,\n  },\n  closeButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#666',\n  },\n  content: {\n    flex: 1,\n    padding: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default Popup;\n"],"mappings":"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","ignoreList":[]}