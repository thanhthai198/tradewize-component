{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","e","__esModule","default","width","screenWidth","height","screenHeight","Dimensions","get","Popup","visible","onClose","children","position","backgroundColor","borderRadius","shadowColor","shadowOpacity","shadowRadius","elevation","fadeAnim","React","useRef","Animated","Value","current","scaleAnim","useEffect","parallel","timing","toValue","duration","useNativeDriver","spring","tension","friction","start","handleBackdropPress","getPopupPosition","left","top","x","y","popupPosition","createElement","Modal","transparent","animationType","onRequestClose","View","style","styles","backdrop","opacity","TouchableOpacity","backdropTouchable","activeOpacity","onPress","popup","transform","scale","closeButton","Text","closeButtonText","content","StyleSheet","create","flex","justifyContent","alignItems","shadowOffset","right","zIndex","fontSize","fontWeight","color","padding","_default","exports"],"sources":["Popup.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  View,\n  Modal,\n  TouchableOpacity,\n  StyleSheet,\n  Dimensions,\n  Animated,\n  Text,\n} from 'react-native';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\ninterface PopupProps {\n  visible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  position?: { x: number; y: number };\n  width?: number;\n  height?: number;\n  backgroundColor?: string;\n  borderRadius?: number;\n  shadowColor?: string;\n  shadowOpacity?: number;\n  shadowRadius?: number;\n  elevation?: number;\n}\n\nconst Popup: React.FC<PopupProps> = ({\n  visible,\n  onClose,\n  children,\n  position,\n  width = 200,\n  height = 150,\n  backgroundColor = '#FFFFFF',\n  borderRadius = 12,\n  shadowColor = '#000',\n  shadowOpacity = 0.25,\n  shadowRadius = 10,\n  elevation = 8,\n}) => {\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\n  const scaleAnim = React.useRef(new Animated.Value(0.8)).current;\n\n  React.useEffect(() => {\n    if (visible) {\n      Animated.parallel([\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 200,\n          useNativeDriver: true,\n        }),\n        Animated.spring(scaleAnim, {\n          toValue: 1,\n          tension: 100,\n          friction: 8,\n          useNativeDriver: true,\n        }),\n      ]).start();\n    } else {\n      Animated.parallel([\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 150,\n          useNativeDriver: true,\n        }),\n        Animated.timing(scaleAnim, {\n          toValue: 0.8,\n          duration: 150,\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }, [visible, fadeAnim, scaleAnim]);\n\n  const handleBackdropPress = () => {\n    onClose();\n  };\n\n  // Calculate position to center popup at button position\n  const getPopupPosition = () => {\n    if (!position) {\n      return {\n        left: screenWidth / 2 - width / 2,\n        top: screenHeight / 2 - height / 2,\n      };\n    }\n\n    // Center popup at button position\n    let left = position.x - width / 2;\n    let top = position.y - height / 2;\n\n    // Ensure popup doesn't go off screen\n    if (left < 10) left = 10;\n    if (left + width > screenWidth - 10) left = screenWidth - width - 10;\n    if (top < 50) top = 50;\n    if (top + height > screenHeight - 50) top = screenHeight - height - 50;\n\n    return { left, top };\n  };\n\n  const popupPosition = getPopupPosition();\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"none\"\n      onRequestClose={onClose}\n    >\n      <Animated.View\n        style={[\n          styles.backdrop,\n          {\n            opacity: fadeAnim,\n          },\n        ]}\n      >\n        <TouchableOpacity\n          style={styles.backdropTouchable}\n          activeOpacity={1}\n          onPress={handleBackdropPress}\n        >\n          <Animated.View\n            style={[\n              styles.popup,\n              {\n                width,\n                height,\n                backgroundColor,\n                borderRadius,\n                left: popupPosition.left,\n                top: popupPosition.top,\n                shadowColor,\n                shadowOpacity,\n                shadowRadius,\n                elevation,\n                transform: [{ scale: scaleAnim }],\n              },\n            ]}\n          >\n            <TouchableOpacity\n              style={styles.closeButton}\n              onPress={onClose}\n              activeOpacity={0.7}\n            >\n              <Text style={styles.closeButtonText}>Ã—</Text>\n            </TouchableOpacity>\n            <View style={styles.content}>{children}</View>\n          </Animated.View>\n        </TouchableOpacity>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  backdropTouchable: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n  },\n  popup: {\n    position: 'absolute',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n  },\n  closeButton: {\n    position: 'absolute',\n    top: 8,\n    right: 8,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: 'rgba(0, 0, 0, 0.1)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1,\n  },\n  closeButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#666',\n  },\n  content: {\n    flex: 1,\n    padding: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default Popup;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAQsB,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtB,MAAM;EAAEG,KAAK,EAAEC,WAAW;EAAEC,MAAM,EAAEC;AAAa,CAAC,GAAGC,uBAAU,CAACC,GAAG,CAAC,QAAQ,CAAC;AAiB7E,MAAMC,KAA2B,GAAGA,CAAC;EACnCC,OAAO;EACPC,OAAO;EACPC,QAAQ;EACRC,QAAQ;EACRV,KAAK,GAAG,GAAG;EACXE,MAAM,GAAG,GAAG;EACZS,eAAe,GAAG,SAAS;EAC3BC,YAAY,GAAG,EAAE;EACjBC,WAAW,GAAG,MAAM;EACpBC,aAAa,GAAG,IAAI;EACpBC,YAAY,GAAG,EAAE;EACjBC,SAAS,GAAG;AACd,CAAC,KAAK;EACJ,MAAMC,QAAQ,GAAGC,cAAK,CAACC,MAAM,CAAC,IAAIC,qBAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EAC5D,MAAMC,SAAS,GAAGL,cAAK,CAACC,MAAM,CAAC,IAAIC,qBAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAACC,OAAO;EAE/DJ,cAAK,CAACM,SAAS,CAAC,MAAM;IACpB,IAAIjB,OAAO,EAAE;MACXa,qBAAQ,CAACK,QAAQ,CAAC,CAChBL,qBAAQ,CAACM,MAAM,CAACT,QAAQ,EAAE;QACxBU,OAAO,EAAE,CAAC;QACVC,QAAQ,EAAE,GAAG;QACbC,eAAe,EAAE;MACnB,CAAC,CAAC,EACFT,qBAAQ,CAACU,MAAM,CAACP,SAAS,EAAE;QACzBI,OAAO,EAAE,CAAC;QACVI,OAAO,EAAE,GAAG;QACZC,QAAQ,EAAE,CAAC;QACXH,eAAe,EAAE;MACnB,CAAC,CAAC,CACH,CAAC,CAACI,KAAK,CAAC,CAAC;IACZ,CAAC,MAAM;MACLb,qBAAQ,CAACK,QAAQ,CAAC,CAChBL,qBAAQ,CAACM,MAAM,CAACT,QAAQ,EAAE;QACxBU,OAAO,EAAE,CAAC;QACVC,QAAQ,EAAE,GAAG;QACbC,eAAe,EAAE;MACnB,CAAC,CAAC,EACFT,qBAAQ,CAACM,MAAM,CAACH,SAAS,EAAE;QACzBI,OAAO,EAAE,GAAG;QACZC,QAAQ,EAAE,GAAG;QACbC,eAAe,EAAE;MACnB,CAAC,CAAC,CACH,CAAC,CAACI,KAAK,CAAC,CAAC;IACZ;EACF,CAAC,EAAE,CAAC1B,OAAO,EAAEU,QAAQ,EAAEM,SAAS,CAAC,CAAC;EAElC,MAAMW,mBAAmB,GAAGA,CAAA,KAAM;IAChC1B,OAAO,CAAC,CAAC;EACX,CAAC;;EAED;EACA,MAAM2B,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI,CAACzB,QAAQ,EAAE;MACb,OAAO;QACL0B,IAAI,EAAEnC,WAAW,GAAG,CAAC,GAAGD,KAAK,GAAG,CAAC;QACjCqC,GAAG,EAAElC,YAAY,GAAG,CAAC,GAAGD,MAAM,GAAG;MACnC,CAAC;IACH;;IAEA;IACA,IAAIkC,IAAI,GAAG1B,QAAQ,CAAC4B,CAAC,GAAGtC,KAAK,GAAG,CAAC;IACjC,IAAIqC,GAAG,GAAG3B,QAAQ,CAAC6B,CAAC,GAAGrC,MAAM,GAAG,CAAC;;IAEjC;IACA,IAAIkC,IAAI,GAAG,EAAE,EAAEA,IAAI,GAAG,EAAE;IACxB,IAAIA,IAAI,GAAGpC,KAAK,GAAGC,WAAW,GAAG,EAAE,EAAEmC,IAAI,GAAGnC,WAAW,GAAGD,KAAK,GAAG,EAAE;IACpE,IAAIqC,GAAG,GAAG,EAAE,EAAEA,GAAG,GAAG,EAAE;IACtB,IAAIA,GAAG,GAAGnC,MAAM,GAAGC,YAAY,GAAG,EAAE,EAAEkC,GAAG,GAAGlC,YAAY,GAAGD,MAAM,GAAG,EAAE;IAEtE,OAAO;MAAEkC,IAAI;MAAEC;IAAI,CAAC;EACtB,CAAC;EAED,MAAMG,aAAa,GAAGL,gBAAgB,CAAC,CAAC;EAExC,oBACE1C,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAA8C,KAAK;IACJnC,OAAO,EAAEA,OAAQ;IACjBoC,WAAW;IACXC,aAAa,EAAC,MAAM;IACpBC,cAAc,EAAErC;EAAQ,gBAExBf,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAAwB,QAAQ,CAAC0B,IAAI;IACZC,KAAK,EAAE,CACLC,MAAM,CAACC,QAAQ,EACf;MACEC,OAAO,EAAEjC;IACX,CAAC;EACD,gBAEFxB,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAAuD,gBAAgB;IACfJ,KAAK,EAAEC,MAAM,CAACI,iBAAkB;IAChCC,aAAa,EAAE,CAAE;IACjBC,OAAO,EAAEpB;EAAoB,gBAE7BzC,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAAwB,QAAQ,CAAC0B,IAAI;IACZC,KAAK,EAAE,CACLC,MAAM,CAACO,KAAK,EACZ;MACEvD,KAAK;MACLE,MAAM;MACNS,eAAe;MACfC,YAAY;MACZwB,IAAI,EAAEI,aAAa,CAACJ,IAAI;MACxBC,GAAG,EAAEG,aAAa,CAACH,GAAG;MACtBxB,WAAW;MACXC,aAAa;MACbC,YAAY;MACZC,SAAS;MACTwC,SAAS,EAAE,CAAC;QAAEC,KAAK,EAAElC;MAAU,CAAC;IAClC,CAAC;EACD,gBAEF9B,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAAuD,gBAAgB;IACfJ,KAAK,EAAEC,MAAM,CAACU,WAAY;IAC1BJ,OAAO,EAAE9C,OAAQ;IACjB6C,aAAa,EAAE;EAAI,gBAEnB5D,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAA+D,IAAI;IAACZ,KAAK,EAAEC,MAAM,CAACY;EAAgB,GAAC,MAAO,CAC5B,CAAC,eACnBnE,MAAA,CAAAM,OAAA,CAAA0C,aAAA,CAAC7C,YAAA,CAAAkD,IAAI;IAACC,KAAK,EAAEC,MAAM,CAACa;EAAQ,GAAEpD,QAAe,CAChC,CACC,CACL,CACV,CAAC;AAEZ,CAAC;AAED,MAAMuC,MAAM,GAAGc,uBAAU,CAACC,MAAM,CAAC;EAC/Bd,QAAQ,EAAE;IACRe,IAAI,EAAE,CAAC;IACPrD,eAAe,EAAE,oBAAoB;IACrCsD,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDd,iBAAiB,EAAE;IACjBY,IAAI,EAAE,CAAC;IACPhE,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE;EACV,CAAC;EACDqD,KAAK,EAAE;IACL7C,QAAQ,EAAE,UAAU;IACpByD,YAAY,EAAE;MACZnE,KAAK,EAAE,CAAC;MACRE,MAAM,EAAE;IACV;EACF,CAAC;EACDwD,WAAW,EAAE;IACXhD,QAAQ,EAAE,UAAU;IACpB2B,GAAG,EAAE,CAAC;IACN+B,KAAK,EAAE,CAAC;IACRpE,KAAK,EAAE,EAAE;IACTE,MAAM,EAAE,EAAE;IACVU,YAAY,EAAE,EAAE;IAChBD,eAAe,EAAE,oBAAoB;IACrCsD,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBG,MAAM,EAAE;EACV,CAAC;EACDT,eAAe,EAAE;IACfU,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE;EACT,CAAC;EACDX,OAAO,EAAE;IACPG,IAAI,EAAE,CAAC;IACPS,OAAO,EAAE,EAAE;IACXR,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd;AACF,CAAC,CAAC;AAAC,IAAAQ,QAAA,GAAAC,OAAA,CAAA5E,OAAA,GAEYO,KAAK","ignoreList":[]}