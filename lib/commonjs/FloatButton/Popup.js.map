{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","e","__esModule","default","width","screenWidth","height","screenHeight","Dimensions","get","Popup","visible","onClose","children","position","backgroundColor","borderRadius","shadowColor","shadowOpacity","shadowRadius","elevation","fadeAnim","React","useRef","Animated","Value","current","scaleAnim","useEffect","parallel","timing","toValue","duration","useNativeDriver","spring","tension","friction","start","handleBackdropPress","getPopupPosition","left","top","x","y","popupPosition","createElement","Modal","transparent","animationType","onRequestClose","View","style","styles","backdrop","opacity","TouchableOpacity","backdropTouchable","activeOpacity","onPress","popup","transform","scale","closeButton","Text","closeButtonText","content","StyleSheet","create","flex","justifyContent","alignItems","shadowOffset","right","zIndex","fontSize","fontWeight","color","padding","_default","exports"],"sources":["Popup.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  View,\r\n  Modal,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  Dimensions,\r\n  Animated,\r\n  Text,\r\n} from 'react-native';\r\n\r\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\r\n\r\ninterface PopupProps {\r\n  visible: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  position?: { x: number; y: number };\r\n  width?: number;\r\n  height?: number;\r\n  backgroundColor?: string;\r\n  borderRadius?: number;\r\n  shadowColor?: string;\r\n  shadowOpacity?: number;\r\n  shadowRadius?: number;\r\n  elevation?: number;\r\n}\r\n\r\nconst Popup: React.FC<PopupProps> = ({\r\n  visible,\r\n  onClose,\r\n  children,\r\n  position,\r\n  width = 200,\r\n  height = 150,\r\n  backgroundColor = '#FFFFFF',\r\n  borderRadius = 12,\r\n  shadowColor = '#000',\r\n  shadowOpacity = 0.25,\r\n  shadowRadius = 10,\r\n  elevation = 8,\r\n}) => {\r\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\r\n  const scaleAnim = React.useRef(new Animated.Value(0.8)).current;\r\n\r\n  React.useEffect(() => {\r\n    if (visible) {\r\n      Animated.parallel([\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 200,\r\n          useNativeDriver: true,\r\n        }),\r\n        Animated.spring(scaleAnim, {\r\n          toValue: 1,\r\n          tension: 100,\r\n          friction: 8,\r\n          useNativeDriver: true,\r\n        }),\r\n      ]).start();\r\n    } else {\r\n      Animated.parallel([\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 0,\r\n          duration: 150,\r\n          useNativeDriver: true,\r\n        }),\r\n        Animated.timing(scaleAnim, {\r\n          toValue: 0.8,\r\n          duration: 150,\r\n          useNativeDriver: true,\r\n        }),\r\n      ]).start();\r\n    }\r\n  }, [visible, fadeAnim, scaleAnim]);\r\n\r\n  const handleBackdropPress = () => {\r\n    onClose();\r\n  };\r\n\r\n  // Calculate position to center popup at button position\r\n  const getPopupPosition = () => {\r\n    if (!position) {\r\n      return {\r\n        left: screenWidth / 2 - width / 2,\r\n        top: screenHeight / 2 - height / 2,\r\n      };\r\n    }\r\n\r\n    // Center popup at button position\r\n    let left = position.x - width / 2;\r\n    let top = position.y - height / 2;\r\n\r\n    // Ensure popup doesn't go off screen\r\n    if (left < 10) left = 10;\r\n    if (left + width > screenWidth - 10) left = screenWidth - width - 10;\r\n    if (top < 50) top = 50;\r\n    if (top + height > screenHeight - 50) top = screenHeight - height - 50;\r\n\r\n    return { left, top };\r\n  };\r\n\r\n  const popupPosition = getPopupPosition();\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      transparent\r\n      animationType=\"none\"\r\n      onRequestClose={onClose}\r\n    >\r\n      <Animated.View\r\n        style={[\r\n          styles.backdrop,\r\n          {\r\n            opacity: fadeAnim,\r\n          },\r\n        ]}\r\n      >\r\n        <TouchableOpacity\r\n          style={styles.backdropTouchable}\r\n          activeOpacity={1}\r\n          onPress={handleBackdropPress}\r\n        >\r\n          <Animated.View\r\n            style={[\r\n              styles.popup,\r\n              {\r\n                width,\r\n                height,\r\n                backgroundColor,\r\n                borderRadius,\r\n                left: popupPosition.left,\r\n                top: popupPosition.top,\r\n                shadowColor,\r\n                shadowOpacity,\r\n                shadowRadius,\r\n                elevation,\r\n                transform: [{ scale: scaleAnim }],\r\n              },\r\n            ]}\r\n          >\r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={onClose}\r\n              activeOpacity={0.7}\r\n            >\r\n              <Text style={styles.closeButtonText}>Ã—</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.content}>{children}</View>\r\n          </Animated.View>\r\n        </TouchableOpacity>\r\n      </Animated.View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  backdrop: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  backdropTouchable: {\r\n    flex: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  popup: {\r\n    position: 'absolute',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: 8,\r\n    right: 8,\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  closeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#666',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 16,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default Popup;\r\n"],"mappings":"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","ignoreList":[]}