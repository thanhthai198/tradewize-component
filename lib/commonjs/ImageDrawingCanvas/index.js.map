{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_styles","_reactNativeSafeAreaContext","_reactNativeSkia","_types","_reactNativeViewShot","_interopRequireDefault","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","IMG_WIDTH","Dimensions","width","IMG_HEIGHT","fontSize","ImageDrawingCanvas","props","visible","isModal","uriImage","onClose","onSave","titleCancel","contentCancel","txtBtnContinueCancel","txtBtnCancelCancel","txtBtnDone","txtBtnDoneEdit","canvasRef","useCanvasRef","image","useImage","textAnimationsRef","useRef","Map","viewShotRef","mode","setMode","useState","paths","setPaths","history","setHistory","shapes","setShapes","currentPath","setCurrentPath","currentShape","setCurrentShape","shapeStartPos","setShapeStartPos","colorDraw","setColorDraw","colors","showTextInput","setShowTextInput","currentInputText","setCurrentInputText","inputText","setInputText","editingTextId","setEditingTextId","editingTextValue","setEditingTextValue","colorText","setColorText","keyboardHeight","setKeyboardHeight","clipPath","useMemo","path","Skia","Path","Make","addRect","x","y","height","handleUndo","useCallback","lastItem","type","prev","slice","handleDoneDraw","handleCapture","_viewShotRef$current","current","capture","uri","Platform","OS","error","console","createPanResponder","textId","textContent","textColor","hasMovedRef","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","panValue","setOffset","_value","setValue","onPanResponderMove","_","gestureState","Math","abs","dx","dy","Animated","event","useNativeDriver","onPanResponderRelease","flattenOffset","map","item","id","useEffect","newId","Date","now","toString","text","color","ValueXY","onKeyboardShow","endCoordinates","onKeyboardHide","showSub","Keyboard","addListener","hideSub","remove","pan","locationX","locationY","nativeEvent","p","moveTo","newPath","copy","lineTo","min","radius","sqrt","pow","newPaths","h","pathIndex","shapeToAdd","newShapes","shapeIndex","renderHeaderControls","hasDrawing","createElement","View","style","styles","headerControls","TouchableOpacity","btnClose","onPress","undefined","Text","txtUndo","txtDone","justifyContent","dismiss","Alert","alert","clear","txtClose","layoutCanvas","btnCanvas","Image","tintColor","source","imgCanvas","transform","rotate","txtCanvasMore","renderFooterControls","footerDraw","ScrollView","keyboardShouldPersistTaps","horizontal","showsHorizontalScrollIndicator","key","btnColor","colorSelected","colorDot","backgroundColor","btnDone","Modal","transparent","SafeAreaView","containerModal","containerContent","flex","ref","options","format","quality","canvasContainer","Canvas","panHandlers","Group","clip","fit","pathWithColor","strokeWidth","shape","Rect","Circle","cx","cy","Fragment","opacity","element","panResponder","isEditing","movableBox","getTranslateTransform","TextInput","textOverlay","value","onChangeText","selectionColor","autoFocus","multiline","onBlur","dimOverlay","pointerEvents","textInputOverlay","top","onFocus","footer","bottom","container","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  Alert,\n  Animated,\n  Dimensions,\n  Image,\n  Keyboard,\n  Modal,\n  PanResponder,\n  Platform,\n  ScrollView,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n  type KeyboardEvent,\n} from 'react-native';\nimport { styles } from './styles';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport {\n  Canvas,\n  Path,\n  Skia,\n  useImage,\n  Image as SkiaImage,\n  useCanvasRef,\n  type SkPath,\n  Group,\n  Rect,\n  Circle,\n} from '@shopify/react-native-skia';\nimport {\n  colors,\n  type HistoryItem,\n  type IImageDrawingCanvas,\n  type IShapeStartPos,\n  type PathWithColor,\n  type Shape,\n  type TextItem,\n} from './types';\nimport ViewShot from 'react-native-view-shot';\n\nconst IMG_WIDTH = Dimensions.get('window').width;\nconst IMG_HEIGHT = Dimensions.get('window').width;\nconst fontSize = 22;\n\nconst ImageDrawingCanvas = (props: IImageDrawingCanvas) => {\n  const {\n    visible,\n    isModal,\n    uriImage,\n    onClose,\n    onSave,\n    titleCancel = 'Huỷ bỏ chỉnh sửa',\n    contentCancel = 'Bạn có chắc muốn huỷ bỏ tất cả chỉnh sửa?',\n    txtBtnContinueCancel = 'Tiếp tục',\n    txtBtnCancelCancel = 'Huỷ bỏ',\n    txtBtnDone = 'Hoàn thành',\n    txtBtnDoneEdit = 'Xong',\n  } = props;\n\n  // Hooks phải được gọi trước early return\n  const canvasRef = useCanvasRef();\n  const image = useImage(uriImage);\n\n  // Lưu trữ Animated values cho mỗi text\n  const textAnimationsRef = useRef<Map<string, Animated.ValueXY>>(new Map());\n  const viewShotRef = useRef<ViewShot>(null);\n\n  const [mode, setMode] = useState<'draw' | 'text' | 'rect' | 'circle' | null>(\n    null\n  );\n  const [paths, setPaths] = useState<PathWithColor[]>([]);\n  const [history, setHistory] = useState<HistoryItem[]>([]);\n  const [shapes, setShapes] = useState<Shape[]>([]);\n  const [currentPath, setCurrentPath] = useState<SkPath | null>(null);\n  const [currentShape, setCurrentShape] = useState<Shape | null>(null);\n  const [shapeStartPos, setShapeStartPos] = useState<IShapeStartPos | null>(\n    null\n  );\n\n  const [colorDraw, setColorDraw] = useState<string>(colors[0] || '');\n\n  const [showTextInput, setShowTextInput] = useState(false);\n  const [currentInputText, setCurrentInputText] = useState<string>('');\n  const [inputText, setInputText] = useState<TextItem[]>([]);\n  const [editingTextId, setEditingTextId] = useState<string | null>(null);\n  const [editingTextValue, setEditingTextValue] = useState<string>('');\n  const [colorText, setColorText] = useState<string>(colors[0] || '');\n\n  const [keyboardHeight, setKeyboardHeight] = useState(0);\n\n  const clipPath = useMemo(() => {\n    const path = Skia.Path.Make();\n    path.addRect({ x: 0, y: 0, width: IMG_WIDTH, height: IMG_HEIGHT });\n    return path;\n  }, []);\n\n  const handleUndo = useCallback(() => {\n    if (history.length === 0) return;\n\n    const lastItem = history[history.length - 1];\n\n    if (lastItem?.type === 'path') {\n      setPaths((prev) => prev.slice(0, -1));\n    } else if (lastItem?.type === 'shape') {\n      setShapes((prev) => prev.slice(0, -1));\n    }\n\n    setHistory((prev) => prev.slice(0, -1));\n  }, [history]);\n\n  const handleDoneDraw = useCallback(() => {\n    setMode(null);\n  }, []);\n\n  const handleCapture = useCallback(async () => {\n    try {\n      if (viewShotRef.current?.capture) {\n        const uri = await viewShotRef.current.capture();\n        // Có thể return uri này hoặc gọi callback\n        return Platform.OS === 'ios' ? `file://${uri}` : uri;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error capturing image:', error);\n      return null;\n    }\n  }, []);\n\n  const createPanResponder = (\n    textId: string,\n    textContent: string,\n    textColor: string\n  ) => {\n    let hasMovedRef = false;\n\n    return PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        hasMovedRef = false;\n        const panValue = textAnimationsRef.current.get(textId);\n        if (panValue) {\n          panValue.setOffset({\n            x: (panValue.x as any)._value,\n            y: (panValue.y as any)._value,\n          });\n          panValue.setValue({ x: 0, y: 0 });\n        }\n      },\n      onPanResponderMove: (_, gestureState) => {\n        // Nếu di chuyển quá 5px thì coi như đang kéo\n        if (Math.abs(gestureState.dx) > 5 || Math.abs(gestureState.dy) > 5) {\n          hasMovedRef = true;\n        }\n\n        const panValue = textAnimationsRef.current.get(textId);\n        if (panValue && hasMovedRef) {\n          Animated.event([null, { dx: panValue.x, dy: panValue.y }], {\n            useNativeDriver: false,\n          })(_, gestureState);\n        }\n      },\n      onPanResponderRelease: () => {\n        const panValue = textAnimationsRef.current.get(textId);\n\n        if (!hasMovedRef) {\n          // Nếu không có movement, đây là tap -> mở edit mode\n          setMode('text');\n          setEditingTextId(textId);\n          setEditingTextValue(textContent);\n          setColorText(textColor);\n          if (panValue) {\n            // Reset về vị trí cũ\n            panValue.setValue({ x: 0, y: 0 });\n            panValue.flattenOffset();\n          }\n        } else if (panValue) {\n          // Nếu có movement, lưu vị trí mới\n          panValue.flattenOffset();\n          setInputText((prev) =>\n            prev.map((item) =>\n              item.id === textId\n                ? {\n                    ...item,\n                    x: (panValue.x as any)._value,\n                    y: (panValue.y as any)._value,\n                  }\n                : item\n            )\n          );\n        }\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (!showTextInput && currentInputText?.length > 0) {\n      const newId = Date.now().toString();\n      setCurrentInputText('');\n      setInputText((prev) => [\n        ...prev,\n        {\n          text: currentInputText,\n          id: newId,\n          x: -IMG_WIDTH / 2,\n          y: -IMG_HEIGHT / 2,\n          color: colorText,\n        },\n      ]);\n      // Tạo Animated value mới cho text này\n      textAnimationsRef.current.set(\n        newId,\n        new Animated.ValueXY({\n          x: -IMG_WIDTH / 2,\n          y: -IMG_HEIGHT / 2,\n        })\n      );\n    }\n  }, [currentInputText, showTextInput, colorText]);\n\n  useEffect(() => {\n    const onKeyboardShow = (e: KeyboardEvent) => {\n      setKeyboardHeight(e.endCoordinates.height);\n    };\n\n    const onKeyboardHide = () => {\n      setKeyboardHeight(0);\n    };\n\n    const showSub = Keyboard.addListener('keyboardDidShow', onKeyboardShow);\n    const hideSub = Keyboard.addListener('keyboardDidHide', onKeyboardHide);\n\n    return () => {\n      showSub.remove();\n      hideSub.remove();\n    };\n  }, []);\n\n  const pan = useMemo(\n    () =>\n      PanResponder.create({\n        onStartShouldSetPanResponder: () => true,\n        onPanResponderGrant: (e) => {\n          const { locationX, locationY } = e.nativeEvent;\n\n          if (mode === 'draw') {\n            const p = Skia.Path.Make();\n            p.moveTo(locationX, locationY);\n            setCurrentPath(p);\n          } else if (mode === 'rect' || mode === 'circle') {\n            // Only set start position, wait for move to create shape\n            setShapeStartPos({ x: locationX, y: locationY });\n          }\n        },\n        onPanResponderMove: (e) => {\n          const { locationX, locationY } = e.nativeEvent;\n\n          if (mode === 'draw' && currentPath) {\n            const newPath = currentPath.copy();\n            newPath.lineTo(locationX, locationY);\n            setCurrentPath(newPath);\n          } else if ((mode === 'rect' || mode === 'circle') && shapeStartPos) {\n            if (mode === 'rect') {\n              setCurrentShape({\n                type: 'rect',\n                x: Math.min(shapeStartPos.x, locationX),\n                y: Math.min(shapeStartPos.y, locationY),\n                width: Math.abs(locationX - shapeStartPos.x),\n                height: Math.abs(locationY - shapeStartPos.y),\n              });\n            } else {\n              const radius = Math.sqrt(\n                Math.pow(locationX - shapeStartPos.x, 2) +\n                  Math.pow(locationY - shapeStartPos.y, 2)\n              );\n              setCurrentShape({\n                type: 'circle',\n                x: shapeStartPos.x,\n                y: shapeStartPos.y,\n                radius: radius,\n              });\n            }\n          }\n        },\n        onPanResponderRelease: () => {\n          if (mode === 'draw' && currentPath) {\n            setPaths((prev) => {\n              const newPaths = [\n                ...prev,\n                { path: currentPath, color: colorDraw },\n              ];\n              setHistory((h) => [\n                ...h,\n                { type: 'path', pathIndex: newPaths.length - 1 },\n              ]);\n              return newPaths;\n            });\n            setCurrentPath(null);\n          } else if ((mode === 'rect' || mode === 'circle') && currentShape) {\n            // Batch state updates to prevent UI flickering\n            const shapeToAdd = currentShape;\n            setCurrentShape(null);\n            setShapeStartPos(null);\n            setShapes((prev) => {\n              const newShapes = [...prev, shapeToAdd];\n              setHistory((h) => [\n                ...h,\n                { type: 'shape', shapeIndex: newShapes.length - 1 },\n              ]);\n              return newShapes;\n            });\n          }\n        },\n      }),\n    [mode, currentPath, currentShape, shapeStartPos, colorDraw]\n  );\n\n  const renderHeaderControls = useMemo(() => {\n    const hasDrawing =\n      paths?.length > 0 || shapes?.length > 0 || inputText?.length > 0;\n    if (mode === 'draw') {\n      return (\n        <View style={styles.headerControls}>\n          <TouchableOpacity\n            style={styles.btnClose}\n            onPress={paths?.length > 0 ? handleUndo : undefined}\n          >\n            {paths?.length > 0 && <Text style={styles.txtUndo}>Hoàn tác</Text>}\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.btnClose} onPress={handleDoneDraw}>\n            <Text style={styles.txtDone}>{txtBtnDoneEdit}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    if (mode === 'text') {\n      return (\n        <View style={[styles.headerControls, { justifyContent: 'flex-end' }]}>\n          <TouchableOpacity\n            style={styles.btnClose}\n            onPress={() => {\n              handleDoneDraw();\n              Keyboard.dismiss();\n            }}\n          >\n            <Text style={styles.txtDone}>{txtBtnDoneEdit}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    return (\n      <View style={styles.headerControls}>\n        <TouchableOpacity\n          style={styles.btnClose}\n          onPress={() => {\n            if (hasDrawing) {\n              Alert.alert(titleCancel, contentCancel, [\n                {\n                  text: txtBtnContinueCancel,\n                  style: 'cancel',\n                },\n                {\n                  text: txtBtnCancelCancel,\n                  style: 'destructive',\n                  onPress: () => {\n                    onClose();\n                    setPaths([]);\n                    setCurrentPath(null);\n                    setShapes([]);\n                    setCurrentShape(null);\n                    setShapeStartPos(null);\n                    setColorDraw(colors[0] || '');\n                    setInputText([]);\n                    setHistory([]);\n                    // Xóa tất cả animations\n                    textAnimationsRef.current.clear();\n                  },\n                },\n              ]);\n            } else {\n              onClose();\n              setPaths([]);\n              setCurrentPath(null);\n              setShapes([]);\n              setCurrentShape(null);\n              setShapeStartPos(null);\n              setColorDraw(colors[0] || '');\n              setInputText([]);\n              setHistory([]);\n              // Xóa tất cả animations\n              textAnimationsRef.current.clear();\n            }\n          }}\n        >\n          <Text style={styles.txtClose}>X</Text>\n        </TouchableOpacity>\n\n        <View style={styles.layoutCanvas}>\n          <TouchableOpacity\n            onPress={() => {\n              setMode('draw');\n              setShowTextInput(false);\n            }}\n            style={styles.btnCanvas}\n          >\n            <Image\n              tintColor={'white'}\n              source={require('./assets/line.png')}\n              style={[styles.imgCanvas, { transform: [{ rotate: '45deg' }] }]}\n            />\n          </TouchableOpacity>\n          <TouchableOpacity\n            onPress={() => {\n              setMode('text');\n              setShowTextInput(true);\n              setColorText(colors[0] || '');\n            }}\n            style={styles.btnCanvas}\n          >\n            <Text style={styles.txtCanvasMore}>Aa</Text>\n          </TouchableOpacity>\n          {/* <TouchableOpacity style={styles.btnCanvas}>\n            <Image\n              tintColor={'white'}\n              source={require('./assets/crop.png')}\n              style={styles.imgCanvas}\n            />\n          </TouchableOpacity> */}\n          {/* <TouchableOpacity\n            style={styles.btnCanvas}\n            onPress={async () => {\n              const uri = await handleCapture();\n              if (uri && onSave) {\n                onSave(uri);\n              }\n            }}\n          >\n            <Image\n              tintColor={'white'}\n              source={require('./assets/download.png')}\n              style={styles.imgCanvas}\n            />\n          </TouchableOpacity> */}\n        </View>\n      </View>\n    );\n  }, [\n    paths?.length,\n    shapes?.length,\n    inputText?.length,\n    mode,\n    handleUndo,\n    handleDoneDraw,\n    txtBtnDoneEdit,\n    titleCancel,\n    contentCancel,\n    txtBtnContinueCancel,\n    txtBtnCancelCancel,\n    onClose,\n  ]);\n\n  const renderFooterControls = useMemo(() => {\n    if (mode === 'draw') {\n      return (\n        <View style={styles.footerDraw}>\n          {/* <TouchableOpacity style={[styles.btnEaser]}>\n            <Image\n              tintColor={'white'}\n              source={require('./assets/eraser_white.png')}\n              style={styles.btnEaserImage}\n            />\n          </TouchableOpacity> */}\n\n          <ScrollView\n            keyboardShouldPersistTaps=\"always\"\n            horizontal\n            showsHorizontalScrollIndicator={false}\n          >\n            {colors.map((color) => (\n              <TouchableOpacity\n                onPress={() => {\n                  setColorDraw(color);\n                }}\n                key={color}\n                style={[\n                  styles.btnColor,\n                  colorDraw === color && styles.colorSelected,\n                ]}\n              >\n                <View style={[styles.colorDot, { backgroundColor: color }]} />\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      );\n    }\n\n    if (mode === 'text') {\n      return (\n        <View style={styles.footerDraw}>\n          <ScrollView\n            keyboardShouldPersistTaps=\"always\"\n            horizontal\n            showsHorizontalScrollIndicator={false}\n          >\n            {colors.map((color) => (\n              <TouchableOpacity\n                onPress={() => {\n                  setColorText(color);\n                }}\n                key={color}\n                style={[\n                  styles.btnColor,\n                  colorText === color && styles.colorSelected,\n                ]}\n              >\n                <View style={[styles.colorDot, { backgroundColor: color }]} />\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      );\n    }\n    const hasDrawing =\n      paths?.length > 0 || shapes?.length > 0 || inputText?.length > 0;\n    return (\n      <View style={styles.footerDraw}>\n        {hasDrawing && (\n          <TouchableOpacity\n            style={styles.btnDone}\n            onPress={async () => {\n              const uri = await handleCapture();\n              if (uri && onSave) {\n                onSave(uri);\n              }\n\n              handleDoneDraw();\n              onClose();\n              setPaths([]);\n              setCurrentPath(null);\n              setShapes([]);\n              setCurrentShape(null);\n              setShapeStartPos(null);\n              setColorDraw(colors[0] || '');\n              setInputText([]);\n              setHistory([]);\n              // Xóa tất cả animations\n              textAnimationsRef.current.clear();\n            }}\n          >\n            <Text style={[styles.txtDone, { color: 'black' }]}>\n              {txtBtnDone}\n            </Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    );\n  }, [\n    mode,\n    txtBtnDone,\n    colorDraw,\n    colorText,\n    paths.length,\n    shapes.length,\n    inputText.length,\n    handleDoneDraw,\n    onClose,\n    handleCapture,\n    onSave,\n  ]);\n\n  if (!visible) {\n    return null;\n  }\n\n  if (isModal) {\n    return (\n      <Modal visible={visible} transparent>\n        <SafeAreaView style={styles.containerModal}>\n          <View style={styles.containerContent}>\n            {renderHeaderControls}\n\n            <ViewShot\n              style={{ flex: 1 }}\n              ref={viewShotRef}\n              options={{\n                format: 'jpg',\n                quality: 0.9,\n              }}\n            >\n              <View style={styles.canvasContainer}>\n                <Canvas\n                  ref={canvasRef as any}\n                  style={{ width: IMG_WIDTH, height: IMG_HEIGHT }}\n                  {...pan.panHandlers}\n                >\n                  <Group clip={clipPath}>\n                    {/* Image nền */}\n                    {image && (\n                      <SkiaImage\n                        image={image}\n                        x={0}\n                        y={0}\n                        width={IMG_WIDTH}\n                        height={IMG_HEIGHT}\n                        fit=\"contain\"\n                      />\n                    )}\n\n                    {/* Nét vẽ */}\n                    {paths.map((pathWithColor, i) => (\n                      <Path\n                        key={`path-${i}`}\n                        path={pathWithColor.path}\n                        color={pathWithColor.color}\n                        style=\"stroke\"\n                        strokeWidth={4}\n                      />\n                    ))}\n                    {currentPath && (\n                      <Path\n                        path={currentPath}\n                        color={colorDraw}\n                        style=\"stroke\"\n                        strokeWidth={4}\n                      />\n                    )}\n\n                    {/* Hình vẽ */}\n                    {shapes.map((shape, i) => {\n                      if (\n                        shape.type === 'rect' &&\n                        shape.width &&\n                        shape.height\n                      ) {\n                        return (\n                          <Rect\n                            key={`rect-${i}`}\n                            x={shape.x}\n                            y={shape.y}\n                            width={shape.width}\n                            height={shape.height}\n                            color=\"green\"\n                            style=\"stroke\"\n                            strokeWidth={3}\n                          />\n                        );\n                      }\n                      if (shape.type === 'circle' && shape.radius) {\n                        return (\n                          <Circle\n                            key={`circle-${i}`}\n                            cx={shape.x}\n                            cy={shape.y}\n                            r={shape.radius}\n                            color=\"blue\"\n                            style=\"stroke\"\n                            strokeWidth={3}\n                          />\n                        );\n                      }\n                      return <React.Fragment key={`empty-${i}`} />;\n                    })}\n\n                    {/* Hình đang kéo */}\n                    {currentShape?.type === 'rect' &&\n                      currentShape.width &&\n                      currentShape.height && (\n                        <Rect\n                          x={currentShape.x}\n                          y={currentShape.y}\n                          width={currentShape.width}\n                          height={currentShape.height}\n                          color=\"green\"\n                          style=\"stroke\"\n                          strokeWidth={3}\n                          opacity={1}\n                        />\n                      )}\n                    {currentShape?.type === 'circle' && currentShape.radius && (\n                      <Circle\n                        cx={currentShape.x}\n                        cy={currentShape.y}\n                        r={currentShape.radius}\n                        color=\"blue\"\n                        style=\"stroke\"\n                        strokeWidth={3}\n                        opacity={1}\n                      />\n                    )}\n                  </Group>\n                </Canvas>\n\n                {(mode === 'text' || inputText.length > 0) && (\n                  <View>\n                    {inputText?.map((element) => {\n                      // Lấy hoặc tạo animation value cho text này\n                      if (!textAnimationsRef.current.has(element.id)) {\n                        textAnimationsRef.current.set(\n                          element.id,\n                          new Animated.ValueXY({ x: element.x, y: element.y })\n                        );\n                      }\n                      const panValue = textAnimationsRef.current.get(\n                        element.id\n                      );\n                      const panResponder = createPanResponder(\n                        element.id,\n                        element.text,\n                        element.color\n                      );\n                      const isEditing = editingTextId === element.id;\n\n                      return (\n                        <Animated.View\n                          key={element.id}\n                          {...(!isEditing ? panResponder.panHandlers : {})}\n                          style={[\n                            styles.movableBox,\n                            {\n                              transform:\n                                panValue?.getTranslateTransform() ?? [],\n                            },\n                          ]}\n                        >\n                          {isEditing ? (\n                            <TextInput\n                              style={[\n                                styles.textOverlay,\n                                { color: colorText, fontSize },\n                              ]}\n                              value={editingTextValue}\n                              onChangeText={setEditingTextValue}\n                              selectionColor={colorText}\n                              autoFocus\n                              multiline\n                              onBlur={() => {\n                                // Lưu text và màu mới khi mất focus\n                                setInputText((prev) =>\n                                  prev.map((item) =>\n                                    item.id === element.id\n                                      ? {\n                                          ...item,\n                                          text: editingTextValue,\n                                          color: colorText,\n                                        }\n                                      : item\n                                  )\n                                );\n                                setMode(null);\n                                setEditingTextId(null);\n                                setEditingTextValue('');\n                              }}\n                            />\n                          ) : (\n                            <Text\n                              style={[\n                                styles.textOverlay,\n                                { color: element.color, fontSize },\n                              ]}\n                            >\n                              {element.text}\n                            </Text>\n                          )}\n                        </Animated.View>\n                      );\n                    })}\n                  </View>\n                )}\n\n                {showTextInput && (\n                  <>\n                    <View style={styles.dimOverlay} pointerEvents=\"none\" />\n                    <TextInput\n                      // key={colorText}\n                      style={[\n                        styles.textInputOverlay,\n                        {\n                          fontSize,\n                          top: IMG_HEIGHT / 2,\n                          color: colorText,\n                        },\n                      ]}\n                      value={currentInputText}\n                      onChangeText={setCurrentInputText}\n                      selectionColor={colorText}\n                      autoFocus\n                      onFocus={() => setShowTextInput(true)}\n                      onBlur={() => setShowTextInput(false)}\n                      multiline\n                    />\n                  </>\n                )}\n              </View>\n            </ViewShot>\n\n            <View style={[styles.footer, { bottom: keyboardHeight * 0.85 }]}>\n              {renderFooterControls}\n            </View>\n          </View>\n        </SafeAreaView>\n      </Modal>\n    );\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.containerContent}>\n        {renderHeaderControls}\n\n        <ViewShot\n          style={{ flex: 1 }}\n          ref={viewShotRef}\n          options={{\n            format: 'jpg',\n            quality: 0.9,\n          }}\n        >\n          <View style={styles.canvasContainer}>\n            <Canvas\n              ref={canvasRef as any}\n              style={{ width: IMG_WIDTH, height: IMG_HEIGHT }}\n              {...pan.panHandlers}\n            >\n              <Group clip={clipPath}>\n                {/* Image nền */}\n                {image && (\n                  <SkiaImage\n                    image={image}\n                    x={0}\n                    y={0}\n                    width={IMG_WIDTH}\n                    height={IMG_HEIGHT}\n                    fit=\"contain\"\n                  />\n                )}\n\n                {/* Nét vẽ */}\n                {paths.map((pathWithColor, i) => (\n                  <Path\n                    key={`path-${i}`}\n                    path={pathWithColor.path}\n                    color={pathWithColor.color}\n                    style=\"stroke\"\n                    strokeWidth={4}\n                  />\n                ))}\n                {currentPath && (\n                  <Path\n                    path={currentPath}\n                    color={colorDraw}\n                    style=\"stroke\"\n                    strokeWidth={4}\n                  />\n                )}\n\n                {/* Hình vẽ */}\n                {shapes.map((shape, i) => {\n                  if (shape.type === 'rect' && shape.width && shape.height) {\n                    return (\n                      <Rect\n                        key={`rect-${i}`}\n                        x={shape.x}\n                        y={shape.y}\n                        width={shape.width}\n                        height={shape.height}\n                        color=\"green\"\n                        style=\"stroke\"\n                        strokeWidth={3}\n                      />\n                    );\n                  }\n                  if (shape.type === 'circle' && shape.radius) {\n                    return (\n                      <Circle\n                        key={`circle-${i}`}\n                        cx={shape.x}\n                        cy={shape.y}\n                        r={shape.radius}\n                        color=\"blue\"\n                        style=\"stroke\"\n                        strokeWidth={3}\n                      />\n                    );\n                  }\n                  return <React.Fragment key={`empty-${i}`} />;\n                })}\n\n                {/* Hình đang kéo */}\n                {currentShape?.type === 'rect' &&\n                  currentShape.width &&\n                  currentShape.height && (\n                    <Rect\n                      x={currentShape.x}\n                      y={currentShape.y}\n                      width={currentShape.width}\n                      height={currentShape.height}\n                      color=\"green\"\n                      style=\"stroke\"\n                      strokeWidth={3}\n                      opacity={1}\n                    />\n                  )}\n                {currentShape?.type === 'circle' && currentShape.radius && (\n                  <Circle\n                    cx={currentShape.x}\n                    cy={currentShape.y}\n                    r={currentShape.radius}\n                    color=\"blue\"\n                    style=\"stroke\"\n                    strokeWidth={3}\n                    opacity={1}\n                  />\n                )}\n              </Group>\n            </Canvas>\n\n            {(mode === 'text' || inputText.length > 0) && (\n              <View>\n                {inputText?.map((element) => {\n                  // Lấy hoặc tạo animation value cho text này\n                  if (!textAnimationsRef.current.has(element.id)) {\n                    textAnimationsRef.current.set(\n                      element.id,\n                      new Animated.ValueXY({ x: element.x, y: element.y })\n                    );\n                  }\n                  const panValue = textAnimationsRef.current.get(element.id);\n                  const panResponder = createPanResponder(\n                    element.id,\n                    element.text,\n                    element.color\n                  );\n                  const isEditing = editingTextId === element.id;\n\n                  return (\n                    <Animated.View\n                      key={element.id}\n                      {...(!isEditing ? panResponder.panHandlers : {})}\n                      style={[\n                        styles.movableBox,\n                        {\n                          transform: panValue?.getTranslateTransform() ?? [],\n                        },\n                      ]}\n                    >\n                      {isEditing ? (\n                        <TextInput\n                          style={[\n                            styles.textOverlay,\n                            { color: colorText, fontSize },\n                          ]}\n                          value={editingTextValue}\n                          onChangeText={setEditingTextValue}\n                          selectionColor={colorText}\n                          autoFocus\n                          multiline\n                          onBlur={() => {\n                            // Lưu text và màu mới khi mất focus\n                            setInputText((prev) =>\n                              prev.map((item) =>\n                                item.id === element.id\n                                  ? {\n                                      ...item,\n                                      text: editingTextValue,\n                                      color: colorText,\n                                    }\n                                  : item\n                              )\n                            );\n                            setMode(null);\n                            setEditingTextId(null);\n                            setEditingTextValue('');\n                          }}\n                        />\n                      ) : (\n                        <Text\n                          style={[\n                            styles.textOverlay,\n                            { color: element.color, fontSize },\n                          ]}\n                        >\n                          {element.text}\n                        </Text>\n                      )}\n                    </Animated.View>\n                  );\n                })}\n              </View>\n            )}\n\n            {showTextInput && (\n              <>\n                <View style={styles.dimOverlay} pointerEvents=\"none\" />\n                <TextInput\n                  // key={colorText}\n                  style={[\n                    styles.textInputOverlay,\n                    {\n                      fontSize,\n                      top: IMG_HEIGHT / 2,\n                      color: colorText,\n                    },\n                  ]}\n                  value={currentInputText}\n                  onChangeText={setCurrentInputText}\n                  selectionColor={colorText}\n                  autoFocus\n                  onFocus={() => setShowTextInput(true)}\n                  onBlur={() => setShowTextInput(false)}\n                  multiline\n                />\n              </>\n            )}\n          </View>\n        </ViewShot>\n\n        <View style={[styles.footer, { bottom: keyboardHeight * 0.75 }]}>\n          {renderFooterControls}\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default ImageDrawingCanvas;\n"],"mappings":"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","ignoreList":[]}