{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_styles","_reactNativeSafeAreaContext","_reactNativeSkia","_types","_reactNativeViewShot","_interopRequireDefault","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","IMG_WIDTH","Dimensions","width","IMG_HEIGHT","fontSize","ImageDrawingCanvas","props","visible","uriImage","onClose","onSave","titleCancel","contentCancel","txtBtnContinueCancel","txtBtnCancelCancel","txtBtnDone","txtBtnDoneEdit","canvasRef","useCanvasRef","image","useImage","textAnimationsRef","useRef","Map","viewShotRef","mode","setMode","useState","paths","setPaths","history","setHistory","shapes","setShapes","currentPath","setCurrentPath","currentShape","setCurrentShape","shapeStartPos","setShapeStartPos","colorDraw","setColorDraw","colors","showTextInput","setShowTextInput","currentInputText","setCurrentInputText","inputText","setInputText","editingTextId","setEditingTextId","editingTextValue","setEditingTextValue","colorText","setColorText","clipPath","useMemo","path","Skia","Path","Make","addRect","x","y","height","handleUndo","useCallback","lastItem","type","prev","slice","handleDoneDraw","handleCapture","_viewShotRef$current","current","capture","uri","Platform","OS","error","console","createPanResponder","textId","textContent","textColor","hasMovedRef","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","panValue","setOffset","_value","setValue","onPanResponderMove","_","gestureState","Math","abs","dx","dy","Animated","event","useNativeDriver","onPanResponderRelease","flattenOffset","map","item","id","useEffect","newId","Date","now","toString","text","color","ValueXY","pan","locationX","locationY","nativeEvent","p","moveTo","newPath","copy","lineTo","min","radius","sqrt","pow","newPaths","h","pathIndex","shapeToAdd","newShapes","shapeIndex","renderHeaderControls","hasDrawing","createElement","View","style","styles","headerControls","TouchableOpacity","btnClose","onPress","undefined","Text","txtUndo","txtDone","justifyContent","Keyboard","dismiss","Alert","alert","clear","txtClose","layoutCanvas","btnCanvas","Image","tintColor","source","imgCanvas","transform","rotate","txtCanvasMore","renderFooterControls","footerDraw","ScrollView","horizontal","showsHorizontalScrollIndicator","key","btnColor","padding","borderColor","colorDot","backgroundColor","borderWidth","btnDone","SafeAreaView","container","TouchableWithoutFeedback","containerContent","flex","ref","options","format","quality","canvasContainer","Canvas","panHandlers","Group","clip","fit","pathWithColor","strokeWidth","shape","Rect","Circle","cx","cy","Fragment","opacity","element","panResponder","isEditing","movableBox","getTranslateTransform","TextInput","textOverlay","value","onChangeText","selectionColor","autoFocus","multiline","onBlur","dimOverlay","pointerEvents","textInputOverlay","top","onFocus","footer","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  Alert,\n  Animated,\n  Dimensions,\n  Image,\n  Keyboard,\n  PanResponder,\n  Platform,\n  ScrollView,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View,\n} from 'react-native';\nimport { styles } from './styles';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport {\n  Canvas,\n  Path,\n  Skia,\n  useImage,\n  Image as SkiaImage,\n  useCanvasRef,\n  type SkPath,\n  Group,\n  Rect,\n  Circle,\n} from '@shopify/react-native-skia';\nimport {\n  colors,\n  type HistoryItem,\n  type IImageDrawingCanvas,\n  type IShapeStartPos,\n  type PathWithColor,\n  type Shape,\n  type TextItem,\n} from './types';\nimport ViewShot from 'react-native-view-shot';\n\nconst IMG_WIDTH = Dimensions.get('window').width;\nconst IMG_HEIGHT = Dimensions.get('window').width;\nconst fontSize = 22;\n\nconst ImageDrawingCanvas = (props: IImageDrawingCanvas) => {\n  const {\n    visible,\n    uriImage,\n    onClose,\n    onSave,\n    titleCancel = 'Huỷ bỏ chỉnh sửa',\n    contentCancel = 'Bạn có chắc muốn huỷ bỏ tất cả chỉnh sửa?',\n    txtBtnContinueCancel = 'Tiếp tục',\n    txtBtnCancelCancel = 'Huỷ bỏ',\n    txtBtnDone = 'Hoàn thành',\n    txtBtnDoneEdit = 'Xong',\n  } = props;\n\n  // Hooks phải được gọi trước early return\n  const canvasRef = useCanvasRef();\n  const image = useImage(uriImage);\n\n  // Lưu trữ Animated values cho mỗi text\n  const textAnimationsRef = useRef<Map<string, Animated.ValueXY>>(new Map());\n  const viewShotRef = useRef<ViewShot>(null);\n\n  const [mode, setMode] = useState<'draw' | 'text' | 'rect' | 'circle' | null>(\n    null\n  );\n  const [paths, setPaths] = useState<PathWithColor[]>([]);\n  const [history, setHistory] = useState<HistoryItem[]>([]);\n  const [shapes, setShapes] = useState<Shape[]>([]);\n  const [currentPath, setCurrentPath] = useState<SkPath | null>(null);\n  const [currentShape, setCurrentShape] = useState<Shape | null>(null);\n  const [shapeStartPos, setShapeStartPos] = useState<IShapeStartPos | null>(\n    null\n  );\n\n  const [colorDraw, setColorDraw] = useState<string>(colors[0] || '');\n\n  const [showTextInput, setShowTextInput] = useState(false);\n  const [currentInputText, setCurrentInputText] = useState<string>('');\n  const [inputText, setInputText] = useState<TextItem[]>([]);\n  const [editingTextId, setEditingTextId] = useState<string | null>(null);\n  const [editingTextValue, setEditingTextValue] = useState<string>('');\n  const [colorText, setColorText] = useState<string>(colors[0] || '');\n\n  const clipPath = useMemo(() => {\n    const path = Skia.Path.Make();\n    path.addRect({ x: 0, y: 0, width: IMG_WIDTH, height: IMG_HEIGHT });\n    return path;\n  }, []);\n\n  const handleUndo = useCallback(() => {\n    if (history.length === 0) return;\n\n    const lastItem = history[history.length - 1];\n\n    if (lastItem?.type === 'path') {\n      setPaths((prev) => prev.slice(0, -1));\n    } else if (lastItem?.type === 'shape') {\n      setShapes((prev) => prev.slice(0, -1));\n    }\n\n    setHistory((prev) => prev.slice(0, -1));\n  }, [history]);\n\n  const handleDoneDraw = useCallback(() => {\n    setMode(null);\n  }, []);\n\n  const handleCapture = useCallback(async () => {\n    try {\n      if (viewShotRef.current?.capture) {\n        const uri = await viewShotRef.current.capture();\n        // Có thể return uri này hoặc gọi callback\n        return Platform.OS === 'ios' ? `file://${uri}` : uri;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error capturing image:', error);\n      return null;\n    }\n  }, []);\n\n  const createPanResponder = (\n    textId: string,\n    textContent: string,\n    textColor: string\n  ) => {\n    let hasMovedRef = false;\n\n    return PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        hasMovedRef = false;\n        const panValue = textAnimationsRef.current.get(textId);\n        if (panValue) {\n          panValue.setOffset({\n            x: (panValue.x as any)._value,\n            y: (panValue.y as any)._value,\n          });\n          panValue.setValue({ x: 0, y: 0 });\n        }\n      },\n      onPanResponderMove: (_, gestureState) => {\n        // Nếu di chuyển quá 5px thì coi như đang kéo\n        if (Math.abs(gestureState.dx) > 5 || Math.abs(gestureState.dy) > 5) {\n          hasMovedRef = true;\n        }\n\n        const panValue = textAnimationsRef.current.get(textId);\n        if (panValue && hasMovedRef) {\n          Animated.event([null, { dx: panValue.x, dy: panValue.y }], {\n            useNativeDriver: false,\n          })(_, gestureState);\n        }\n      },\n      onPanResponderRelease: () => {\n        const panValue = textAnimationsRef.current.get(textId);\n\n        if (!hasMovedRef) {\n          // Nếu không có movement, đây là tap -> mở edit mode\n          setMode('text');\n          setEditingTextId(textId);\n          setEditingTextValue(textContent);\n          setColorText(textColor);\n          if (panValue) {\n            // Reset về vị trí cũ\n            panValue.setValue({ x: 0, y: 0 });\n            panValue.flattenOffset();\n          }\n        } else if (panValue) {\n          // Nếu có movement, lưu vị trí mới\n          panValue.flattenOffset();\n          setInputText((prev) =>\n            prev.map((item) =>\n              item.id === textId\n                ? {\n                    ...item,\n                    x: (panValue.x as any)._value,\n                    y: (panValue.y as any)._value,\n                  }\n                : item\n            )\n          );\n        }\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (!showTextInput && currentInputText?.length > 0) {\n      const newId = Date.now().toString();\n      setCurrentInputText('');\n      setInputText((prev) => [\n        ...prev,\n        {\n          text: currentInputText,\n          id: newId,\n          x: -IMG_WIDTH / 2,\n          y: -IMG_HEIGHT / 2,\n          color: colorText,\n        },\n      ]);\n      // Tạo Animated value mới cho text này\n      textAnimationsRef.current.set(\n        newId,\n        new Animated.ValueXY({\n          x: -IMG_WIDTH / 2,\n          y: -IMG_HEIGHT / 2,\n        })\n      );\n    }\n  }, [currentInputText, showTextInput, colorText]);\n\n  const pan = useMemo(\n    () =>\n      PanResponder.create({\n        onStartShouldSetPanResponder: () => true,\n        onPanResponderGrant: (e) => {\n          const { locationX, locationY } = e.nativeEvent;\n\n          if (mode === 'draw') {\n            const p = Skia.Path.Make();\n            p.moveTo(locationX, locationY);\n            setCurrentPath(p);\n          } else if (mode === 'rect' || mode === 'circle') {\n            // Only set start position, wait for move to create shape\n            setShapeStartPos({ x: locationX, y: locationY });\n          }\n        },\n        onPanResponderMove: (e) => {\n          const { locationX, locationY } = e.nativeEvent;\n\n          if (mode === 'draw' && currentPath) {\n            const newPath = currentPath.copy();\n            newPath.lineTo(locationX, locationY);\n            setCurrentPath(newPath);\n          } else if ((mode === 'rect' || mode === 'circle') && shapeStartPos) {\n            if (mode === 'rect') {\n              setCurrentShape({\n                type: 'rect',\n                x: Math.min(shapeStartPos.x, locationX),\n                y: Math.min(shapeStartPos.y, locationY),\n                width: Math.abs(locationX - shapeStartPos.x),\n                height: Math.abs(locationY - shapeStartPos.y),\n              });\n            } else {\n              const radius = Math.sqrt(\n                Math.pow(locationX - shapeStartPos.x, 2) +\n                  Math.pow(locationY - shapeStartPos.y, 2)\n              );\n              setCurrentShape({\n                type: 'circle',\n                x: shapeStartPos.x,\n                y: shapeStartPos.y,\n                radius: radius,\n              });\n            }\n          }\n        },\n        onPanResponderRelease: () => {\n          if (mode === 'draw' && currentPath) {\n            setPaths((prev) => {\n              const newPaths = [\n                ...prev,\n                { path: currentPath, color: colorDraw },\n              ];\n              setHistory((h) => [\n                ...h,\n                { type: 'path', pathIndex: newPaths.length - 1 },\n              ]);\n              return newPaths;\n            });\n            setCurrentPath(null);\n          } else if ((mode === 'rect' || mode === 'circle') && currentShape) {\n            // Batch state updates to prevent UI flickering\n            const shapeToAdd = currentShape;\n            setCurrentShape(null);\n            setShapeStartPos(null);\n            setShapes((prev) => {\n              const newShapes = [...prev, shapeToAdd];\n              setHistory((h) => [\n                ...h,\n                { type: 'shape', shapeIndex: newShapes.length - 1 },\n              ]);\n              return newShapes;\n            });\n          }\n        },\n      }),\n    [mode, currentPath, currentShape, shapeStartPos, colorDraw]\n  );\n\n  const renderHeaderControls = useMemo(() => {\n    const hasDrawing =\n      paths?.length > 0 || shapes?.length > 0 || inputText?.length > 0;\n    if (mode === 'draw') {\n      return (\n        <View style={styles.headerControls}>\n          <TouchableOpacity\n            style={styles.btnClose}\n            onPress={paths?.length > 0 ? handleUndo : undefined}\n          >\n            {paths?.length > 0 && <Text style={styles.txtUndo}>Hoàn tác</Text>}\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.btnClose} onPress={handleDoneDraw}>\n            <Text style={styles.txtDone}>{txtBtnDoneEdit}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    if (mode === 'text') {\n      return (\n        <View style={[styles.headerControls, { justifyContent: 'flex-end' }]}>\n          <TouchableOpacity\n            style={styles.btnClose}\n            onPress={() => {\n              handleDoneDraw();\n              Keyboard.dismiss();\n            }}\n          >\n            <Text style={styles.txtDone}>{txtBtnDoneEdit}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    return (\n      <View style={styles.headerControls}>\n        <TouchableOpacity\n          style={styles.btnClose}\n          onPress={() => {\n            if (hasDrawing) {\n              Alert.alert(titleCancel, contentCancel, [\n                {\n                  text: txtBtnContinueCancel,\n                  style: 'cancel',\n                },\n                {\n                  text: txtBtnCancelCancel,\n                  style: 'destructive',\n                  onPress: () => {\n                    onClose();\n                    setPaths([]);\n                    setCurrentPath(null);\n                    setShapes([]);\n                    setCurrentShape(null);\n                    setShapeStartPos(null);\n                    setColorDraw(colors[0] || '');\n                    setInputText([]);\n                    setHistory([]);\n                    // Xóa tất cả animations\n                    textAnimationsRef.current.clear();\n                  },\n                },\n              ]);\n            } else {\n              onClose();\n              setPaths([]);\n              setCurrentPath(null);\n              setShapes([]);\n              setCurrentShape(null);\n              setShapeStartPos(null);\n              setColorDraw(colors[0] || '');\n              setInputText([]);\n              setHistory([]);\n              // Xóa tất cả animations\n              textAnimationsRef.current.clear();\n            }\n          }}\n        >\n          <Text style={styles.txtClose}>X</Text>\n        </TouchableOpacity>\n\n        <View style={styles.layoutCanvas}>\n          <TouchableOpacity\n            onPress={() => {\n              setMode('draw');\n              setShowTextInput(false);\n            }}\n            style={styles.btnCanvas}\n          >\n            <Image\n              tintColor={'white'}\n              source={require('./assets/line.png')}\n              style={[styles.imgCanvas, { transform: [{ rotate: '45deg' }] }]}\n            />\n          </TouchableOpacity>\n          <TouchableOpacity\n            onPress={() => {\n              setMode('text');\n              setShowTextInput(true);\n              setColorText(colors[0] || '');\n            }}\n            style={styles.btnCanvas}\n          >\n            <Text style={styles.txtCanvasMore}>Aa</Text>\n          </TouchableOpacity>\n          {/* <TouchableOpacity style={styles.btnCanvas}>\n            <Image\n              tintColor={'white'}\n              source={require('./assets/crop.png')}\n              style={styles.imgCanvas}\n            />\n          </TouchableOpacity> */}\n          {/* <TouchableOpacity\n            style={styles.btnCanvas}\n            onPress={async () => {\n              const uri = await handleCapture();\n              if (uri && onSave) {\n                onSave(uri);\n              }\n            }}\n          >\n            <Image\n              tintColor={'white'}\n              source={require('./assets/download.png')}\n              style={styles.imgCanvas}\n            />\n          </TouchableOpacity> */}\n        </View>\n      </View>\n    );\n  }, [\n    paths?.length,\n    shapes?.length,\n    inputText?.length,\n    mode,\n    handleUndo,\n    handleDoneDraw,\n    txtBtnDoneEdit,\n    titleCancel,\n    contentCancel,\n    txtBtnContinueCancel,\n    txtBtnCancelCancel,\n    onClose,\n  ]);\n\n  const renderFooterControls = useMemo(() => {\n    if (mode === 'draw') {\n      return (\n        <View style={styles.footerDraw}>\n          {/* <TouchableOpacity style={[styles.btnEaser]}>\n            <Image\n              tintColor={'white'}\n              source={require('./assets/eraser_white.png')}\n              style={styles.btnEaserImage}\n            />\n          </TouchableOpacity> */}\n\n          <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n            {colors.map((color) => (\n              <TouchableOpacity\n                onPress={() => {\n                  setColorDraw(color);\n                }}\n                key={color}\n                style={[\n                  styles.btnColor,\n                  colorDraw === color && { padding: 2, borderColor: 'white' },\n                ]}\n              >\n                <View\n                  style={[\n                    styles.colorDot,\n                    { backgroundColor: color },\n                    colorDraw === color && { borderWidth: 0 },\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      );\n    }\n\n    if (mode === 'text') {\n      return (\n        <View style={styles.footerDraw}>\n          <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n            {colors.map((color) => (\n              <TouchableOpacity\n                onPress={() => {\n                  setColorText(color);\n                }}\n                key={color}\n                style={[\n                  styles.btnColor,\n                  colorText === color && { padding: 2, borderColor: 'white' },\n                ]}\n              >\n                <View\n                  style={[\n                    styles.colorDot,\n                    { backgroundColor: color },\n                    colorText === color && { borderWidth: 0 },\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      );\n    }\n    const hasDrawing =\n      paths?.length > 0 || shapes?.length > 0 || inputText?.length > 0;\n    return (\n      <View style={styles.footerDraw}>\n        {hasDrawing && (\n          <TouchableOpacity\n            style={styles.btnDone}\n            onPress={async () => {\n              const uri = await handleCapture();\n              if (uri && onSave) {\n                onSave(uri);\n              }\n\n              handleDoneDraw();\n              onClose();\n              setPaths([]);\n              setCurrentPath(null);\n              setShapes([]);\n              setCurrentShape(null);\n              setShapeStartPos(null);\n              setColorDraw(colors[0] || '');\n              setInputText([]);\n              setHistory([]);\n              // Xóa tất cả animations\n              textAnimationsRef.current.clear();\n            }}\n          >\n            <Text style={[styles.txtDone, { color: 'black' }]}>\n              {txtBtnDone}\n            </Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    );\n  }, [\n    mode,\n    txtBtnDone,\n    colorDraw,\n    colorText,\n    paths.length,\n    shapes.length,\n    inputText.length,\n    handleDoneDraw,\n    onClose,\n    handleCapture,\n    onSave,\n  ]);\n\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <TouchableWithoutFeedback\n        onPress={() => {\n          Keyboard.dismiss();\n          handleDoneDraw();\n        }}\n      >\n        <View style={styles.containerContent}>\n          {renderHeaderControls}\n\n          <ViewShot\n            style={{ flex: 1 }}\n            ref={viewShotRef}\n            options={{\n              format: 'jpg',\n              quality: 0.9,\n            }}\n          >\n            <View style={styles.canvasContainer}>\n              <Canvas\n                ref={canvasRef as any}\n                style={{ width: IMG_WIDTH, height: IMG_HEIGHT }}\n                {...pan.panHandlers}\n              >\n                <Group clip={clipPath}>\n                  {/* Image nền */}\n                  {image && (\n                    <SkiaImage\n                      image={image}\n                      x={0}\n                      y={0}\n                      width={IMG_WIDTH}\n                      height={IMG_HEIGHT}\n                      fit=\"cover\"\n                    />\n                  )}\n\n                  {/* Nét vẽ */}\n                  {paths.map((pathWithColor, i) => (\n                    <Path\n                      key={`path-${i}`}\n                      path={pathWithColor.path}\n                      color={pathWithColor.color}\n                      style=\"stroke\"\n                      strokeWidth={4}\n                    />\n                  ))}\n                  {currentPath && (\n                    <Path\n                      path={currentPath}\n                      color={colorDraw}\n                      style=\"stroke\"\n                      strokeWidth={4}\n                    />\n                  )}\n\n                  {/* Hình vẽ */}\n                  {shapes.map((shape, i) => {\n                    if (shape.type === 'rect' && shape.width && shape.height) {\n                      return (\n                        <Rect\n                          key={`rect-${i}`}\n                          x={shape.x}\n                          y={shape.y}\n                          width={shape.width}\n                          height={shape.height}\n                          color=\"green\"\n                          style=\"stroke\"\n                          strokeWidth={3}\n                        />\n                      );\n                    }\n                    if (shape.type === 'circle' && shape.radius) {\n                      return (\n                        <Circle\n                          key={`circle-${i}`}\n                          cx={shape.x}\n                          cy={shape.y}\n                          r={shape.radius}\n                          color=\"blue\"\n                          style=\"stroke\"\n                          strokeWidth={3}\n                        />\n                      );\n                    }\n                    return <React.Fragment key={`empty-${i}`} />;\n                  })}\n\n                  {/* Hình đang kéo */}\n                  {currentShape?.type === 'rect' &&\n                    currentShape.width &&\n                    currentShape.height && (\n                      <Rect\n                        x={currentShape.x}\n                        y={currentShape.y}\n                        width={currentShape.width}\n                        height={currentShape.height}\n                        color=\"green\"\n                        style=\"stroke\"\n                        strokeWidth={3}\n                        opacity={1}\n                      />\n                    )}\n                  {currentShape?.type === 'circle' && currentShape.radius && (\n                    <Circle\n                      cx={currentShape.x}\n                      cy={currentShape.y}\n                      r={currentShape.radius}\n                      color=\"blue\"\n                      style=\"stroke\"\n                      strokeWidth={3}\n                      opacity={1}\n                    />\n                  )}\n                </Group>\n              </Canvas>\n\n              {(mode === 'text' || inputText.length > 0) && (\n                <View>\n                  {inputText?.map((element) => {\n                    // Lấy hoặc tạo animation value cho text này\n                    if (!textAnimationsRef.current.has(element.id)) {\n                      textAnimationsRef.current.set(\n                        element.id,\n                        new Animated.ValueXY({ x: element.x, y: element.y })\n                      );\n                    }\n                    const panValue = textAnimationsRef.current.get(element.id);\n                    const panResponder = createPanResponder(\n                      element.id,\n                      element.text,\n                      element.color\n                    );\n                    const isEditing = editingTextId === element.id;\n\n                    return (\n                      <Animated.View\n                        key={element.id}\n                        {...(!isEditing ? panResponder.panHandlers : {})}\n                        style={[\n                          styles.movableBox,\n                          {\n                            transform: panValue?.getTranslateTransform() ?? [],\n                          },\n                        ]}\n                      >\n                        {isEditing ? (\n                          <TextInput\n                            style={[\n                              styles.textOverlay,\n                              { color: colorText, fontSize },\n                            ]}\n                            value={editingTextValue}\n                            onChangeText={setEditingTextValue}\n                            selectionColor={colorText}\n                            autoFocus\n                            multiline\n                            onBlur={() => {\n                              // Lưu text và màu mới khi mất focus\n                              setInputText((prev) =>\n                                prev.map((item) =>\n                                  item.id === element.id\n                                    ? {\n                                        ...item,\n                                        text: editingTextValue,\n                                        color: colorText,\n                                      }\n                                    : item\n                                )\n                              );\n                              setMode(null);\n                              setEditingTextId(null);\n                              setEditingTextValue('');\n                            }}\n                          />\n                        ) : (\n                          <Text\n                            style={[\n                              styles.textOverlay,\n                              { color: element.color, fontSize },\n                            ]}\n                          >\n                            {element.text}\n                          </Text>\n                        )}\n                      </Animated.View>\n                    );\n                  })}\n                </View>\n              )}\n\n              {showTextInput && (\n                <>\n                  <View style={styles.dimOverlay} pointerEvents=\"none\" />\n                  <TextInput\n                    key={colorText}\n                    style={[\n                      styles.textInputOverlay,\n                      {\n                        fontSize,\n                        top: IMG_HEIGHT / 2,\n                        color: colorText,\n                      },\n                    ]}\n                    value={currentInputText}\n                    onChangeText={setCurrentInputText}\n                    selectionColor={colorText}\n                    autoFocus\n                    onFocus={() => setShowTextInput(true)}\n                    onBlur={() => setShowTextInput(false)}\n                    multiline\n                  />\n                </>\n              )}\n            </View>\n          </ViewShot>\n\n          <View style={styles.footer}>{renderFooterControls}</View>\n        </View>\n      </TouchableWithoutFeedback>\n    </SafeAreaView>\n  );\n};\n\nexport default ImageDrawingCanvas;\n"],"mappings":"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","ignoreList":[]}