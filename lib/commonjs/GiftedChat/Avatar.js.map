{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_GiftedAvatar","_utils","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","styles","left","StyleSheet","create","container","marginRight","onTop","alignSelf","image","height","width","borderRadius","right","marginLeft","Avatar","props","renderAvatarOnTop","showAvatarForEveryMessage","containerStyle","position","currentMessage","renderAvatar","previousMessage","nextMessage","imageStyle","onPressAvatar","onLongPressAvatar","onLayout","messageToCompare","renderAvatarComponent","useCallback","createElement","GiftedAvatar","avatarStyle","user","onPress","onLongPress","isSameUser","isSameDay","View","style","marginBottom","isLast"],"sources":["Avatar.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { type ReactNode, useCallback } from 'react';\nimport {\n  type ImageStyle,\n  type LayoutChangeEvent,\n  StyleSheet,\n  type TextStyle,\n  View,\n  type ViewStyle,\n} from 'react-native';\nimport { GiftedAvatar } from './GiftedAvatar';\nimport { isSameUser, isSameDay } from './utils';\nimport { type IMessage, type LeftRightStyle, type User } from './types';\n\ninterface Styles {\n  left: {\n    container: ViewStyle;\n    onTop: ViewStyle;\n    image: ImageStyle;\n  };\n  right: {\n    container: ViewStyle;\n    onTop: ViewStyle;\n    image: ImageStyle;\n  };\n}\n\nconst styles: Styles = {\n  left: StyleSheet.create({\n    container: {\n      marginRight: 8,\n    },\n    onTop: {\n      alignSelf: 'flex-start',\n    },\n    image: {\n      height: 36,\n      width: 36,\n      borderRadius: 18,\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      marginLeft: 8,\n    },\n    onTop: {\n      alignSelf: 'flex-start',\n    },\n    image: {\n      height: 36,\n      width: 36,\n      borderRadius: 18,\n    },\n  }),\n};\n\nexport interface AvatarProps<TMessage extends IMessage> {\n  currentMessage: TMessage;\n  previousMessage?: TMessage;\n  nextMessage?: TMessage;\n  position: 'left' | 'right';\n  renderAvatarOnTop?: boolean;\n  showAvatarForEveryMessage?: boolean;\n  imageStyle?: LeftRightStyle<ImageStyle>;\n  containerStyle?: LeftRightStyle<ViewStyle>;\n  textStyle?: TextStyle;\n  renderAvatar?(props: Omit<AvatarProps<TMessage>, 'renderAvatar'>): ReactNode;\n  onPressAvatar?: (user: User) => void;\n  onLongPressAvatar?: (user: User) => void;\n  onLayout?: (e: LayoutChangeEvent) => void;\n}\n\nexport function Avatar<TMessage extends IMessage = IMessage>(\n  props: AvatarProps<TMessage>\n) {\n  const {\n    renderAvatarOnTop,\n    showAvatarForEveryMessage,\n    containerStyle,\n    position,\n    currentMessage,\n    renderAvatar,\n    previousMessage,\n    nextMessage,\n    imageStyle,\n    onPressAvatar,\n    onLongPressAvatar,\n    onLayout,\n  } = props;\n\n  const messageToCompare = renderAvatarOnTop ? previousMessage : nextMessage;\n\n  const renderAvatarComponent = useCallback(() => {\n    if (renderAvatar)\n      return renderAvatar({\n        renderAvatarOnTop,\n        showAvatarForEveryMessage,\n        containerStyle,\n        position,\n        currentMessage,\n        previousMessage,\n        nextMessage,\n        imageStyle,\n        onPressAvatar,\n        onLongPressAvatar,\n      });\n\n    if (currentMessage)\n      return (\n        <GiftedAvatar\n          avatarStyle={[styles[position].image, imageStyle?.[position]]}\n          user={currentMessage.user}\n          onPress={() => onPressAvatar?.(currentMessage.user)}\n          onLongPress={() => onLongPressAvatar?.(currentMessage.user)}\n        />\n      );\n\n    return null;\n  }, [\n    renderAvatar,\n    renderAvatarOnTop,\n    showAvatarForEveryMessage,\n    containerStyle,\n    position,\n    currentMessage,\n    previousMessage,\n    nextMessage,\n    imageStyle,\n    onPressAvatar,\n    onLongPressAvatar,\n  ]);\n\n  if (renderAvatar === null) return null;\n\n  if (\n    !showAvatarForEveryMessage &&\n    currentMessage &&\n    messageToCompare &&\n    isSameUser(currentMessage, messageToCompare) &&\n    isSameDay(currentMessage, messageToCompare)\n  )\n    return (\n      <View style={[styles[position].container, containerStyle?.[position]]}>\n        <GiftedAvatar\n          avatarStyle={[styles[position].image, imageStyle?.[position]]}\n        />\n      </View>\n    );\n\n  return (\n    <View\n      style={[\n        styles[position].container,\n        renderAvatarOnTop && styles[position].onTop,\n        containerStyle?.[position],\n        { marginBottom: currentMessage?.isLast ? 32 : 0 },\n      ]}\n      onLayout={onLayout}\n    >\n      {renderAvatarComponent()}\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]}