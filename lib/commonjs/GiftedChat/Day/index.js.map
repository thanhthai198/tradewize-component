{"version":3,"names":["_react","require","_reactNative","_dayjs","_interopRequireDefault","_relativeTime","_calendar","_Constant","_GiftedChatContext","_styles","_styles2","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","e","__esModule","default","dayjs","extend","relativeTime","calendar","Day","dateFormat","DATE_FORMAT","dateFormatCalendar","createdAt","containerStyle","wrapperStyle","textStyle","getLocale","useChatContext","dateStr","useMemo","now","startOf","date","locale","isSame","format","diff","sameDay","React","createElement","View","style","stylesCommon","centerItems","styles","container","wrapper","Text","text"],"sources":["index.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport { Text, View } from 'react-native';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport calendar from 'dayjs/plugin/calendar';\n\nimport { DATE_FORMAT } from '../Constant';\nimport type { DayProps } from './types';\n\nimport { useChatContext } from '../GiftedChatContext';\nimport stylesCommon from '../styles';\nimport styles from './styles';\n\nexport * from './types';\n\ndayjs.extend(relativeTime);\ndayjs.extend(calendar);\n\nexport function Day({\n  dateFormat = DATE_FORMAT,\n  dateFormatCalendar,\n  createdAt,\n  containerStyle,\n  wrapperStyle,\n  textStyle,\n}: DayProps) {\n  const { getLocale } = useChatContext();\n\n  const dateStr = useMemo(() => {\n    if (createdAt == null) return null;\n\n    const now = dayjs().startOf('day');\n    const date = dayjs(createdAt).locale(getLocale()).startOf('day');\n\n    if (!now.isSame(date, 'year')) return date.format('D MMMM YYYY');\n\n    if (now.diff(date, 'days') < 1)\n      return date.calendar(now, {\n        sameDay: '[Today]',\n        ...dateFormatCalendar,\n      });\n\n    return date.format(dateFormat);\n  }, [createdAt, dateFormat, getLocale, dateFormatCalendar]);\n\n  if (!dateStr) return null;\n\n  return (\n    <View style={[stylesCommon.centerItems, styles.container, containerStyle]}>\n      <View style={[styles.wrapper, wrapperStyle]}>\n        <Text style={[styles.text, textStyle]}>{dateStr}</Text>\n      </View>\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]}