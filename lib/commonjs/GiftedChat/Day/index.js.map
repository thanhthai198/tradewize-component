{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_dayjs","_interopRequireDefault","_relativeTime","_calendar","_Constant","_GiftedChatContext","_styles","_styles2","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","set","getOwnPropertyDescriptor","dayjs","extend","relativeTime","calendar","Day","dateFormat","DATE_FORMAT","dateFormatCalendar","createdAt","containerStyle","wrapperStyle","textStyle","getLocale","useChatContext","dateStr","useMemo","now","startOf","date","locale","isSame","format","diff","sameDay","createElement","View","style","stylesCommon","centerItems","styles","container","wrapper","Text","text"],"sources":["index.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Text, View } from 'react-native';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport calendar from 'dayjs/plugin/calendar';\r\n\r\nimport { DATE_FORMAT } from '../Constant';\r\nimport type { DayProps } from './types';\r\n\r\nimport { useChatContext } from '../GiftedChatContext';\r\nimport stylesCommon from '../styles';\r\nimport styles from './styles';\r\n\r\nexport * from './types';\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.extend(calendar);\r\n\r\nexport function Day({\r\n  dateFormat = DATE_FORMAT,\r\n  dateFormatCalendar,\r\n  createdAt,\r\n  containerStyle,\r\n  wrapperStyle,\r\n  textStyle,\r\n}: DayProps) {\r\n  const { getLocale } = useChatContext();\r\n\r\n  const dateStr = useMemo(() => {\r\n    if (createdAt == null) return null;\r\n\r\n    const now = dayjs().startOf('day');\r\n    const date = dayjs(createdAt).locale(getLocale()).startOf('day');\r\n\r\n    if (!now.isSame(date, 'year')) return date.format('D MMMM YYYY');\r\n\r\n    if (now.diff(date, 'days') < 1)\r\n      return date.calendar(now, {\r\n        sameDay: '[Today]',\r\n        ...dateFormatCalendar,\r\n      });\r\n\r\n    return date.format(dateFormat);\r\n  }, [createdAt, dateFormat, getLocale, dateFormatCalendar]);\r\n\r\n  if (!dateStr) return null;\r\n\r\n  return (\r\n    <View style={[stylesCommon.centerItems, styles.container, containerStyle]}>\r\n      <View style={[styles.wrapper, wrapperStyle]}>\r\n        <Text style={[styles.text, textStyle]}>{dateStr}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]}