{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_styles","_interopRequireDefault","_styles2","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","set","getOwnPropertyDescriptor","DotsAnimation","dot1","useSharedValue","dot2","dot3","topY","useMemo","bottomY","duration","dot1Style","useAnimatedStyle","transform","translateY","value","dot2Style","dot3Style","useEffect","withRepeat","withSequence","withTiming","withDelay","createElement","View","style","stylesCommon","fill","centerItems","styles","dots","dot","TypingIndicator","isTyping","yCoords","heightScale","marginScale","isVisible","setIsVisible","useState","containerStyle","height","marginBottom","slideIn","useCallback","slideOut","isFinished","runOnJS","container","_default"],"sources":["index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState, useMemo } from 'react';\r\nimport { View } from 'react-native';\r\nimport Animated, {\r\n  runOnJS,\r\n  useAnimatedStyle,\r\n  useSharedValue,\r\n  withDelay,\r\n  withRepeat,\r\n  withSequence,\r\n  withTiming,\r\n} from 'react-native-reanimated';\r\nimport { type TypingIndicatorProps } from './types';\r\n\r\nimport stylesCommon from '../styles';\r\nimport styles from './styles';\r\n\r\nexport * from './types';\r\n\r\nconst DotsAnimation = () => {\r\n  const dot1 = useSharedValue(0);\r\n  const dot2 = useSharedValue(0);\r\n  const dot3 = useSharedValue(0);\r\n\r\n  const topY = useMemo(() => -5, []);\r\n  const bottomY = useMemo(() => 5, []);\r\n  const duration = useMemo(() => 500, []);\r\n\r\n  const dot1Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot1.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot1]\r\n  );\r\n\r\n  const dot2Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot2.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot2]\r\n  );\r\n\r\n  const dot3Style = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: dot3.value,\r\n        },\r\n      ],\r\n    }),\r\n    [dot3]\r\n  );\r\n\r\n  useEffect(() => {\r\n    dot1.value = withRepeat(\r\n      withSequence(\r\n        withTiming(topY, { duration }),\r\n        withTiming(bottomY, { duration })\r\n      ),\r\n      0,\r\n      true\r\n    );\r\n  }, [dot1, topY, bottomY, duration]);\r\n\r\n  useEffect(() => {\r\n    dot2.value = withDelay(\r\n      100,\r\n      withRepeat(\r\n        withSequence(\r\n          withTiming(topY, { duration }),\r\n          withTiming(bottomY, { duration })\r\n        ),\r\n        0,\r\n        true\r\n      )\r\n    );\r\n  }, [dot2, topY, bottomY, duration]);\r\n\r\n  useEffect(() => {\r\n    dot3.value = withDelay(\r\n      200,\r\n      withRepeat(\r\n        withSequence(\r\n          withTiming(topY, { duration }),\r\n          withTiming(bottomY, { duration })\r\n        ),\r\n        0,\r\n        true\r\n      )\r\n    );\r\n  }, [dot3, topY, bottomY, duration]);\r\n\r\n  return (\r\n    <View style={[stylesCommon.fill, stylesCommon.centerItems, styles.dots]}>\r\n      <Animated.View style={[styles.dot, dot1Style]} />\r\n      <Animated.View style={[styles.dot, dot2Style]} />\r\n      <Animated.View style={[styles.dot, dot3Style]} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst TypingIndicator = ({ isTyping }: TypingIndicatorProps) => {\r\n  const yCoords = useSharedValue(200);\r\n  const heightScale = useSharedValue(0);\r\n  const marginScale = useSharedValue(0);\r\n\r\n  const [isVisible, setIsVisible] = useState(isTyping);\r\n\r\n  const containerStyle = useAnimatedStyle(\r\n    () => ({\r\n      transform: [\r\n        {\r\n          translateY: yCoords.value,\r\n        },\r\n      ],\r\n      height: heightScale.value,\r\n      marginBottom: marginScale.value,\r\n    }),\r\n    [yCoords, heightScale, marginScale]\r\n  );\r\n\r\n  const slideIn = useCallback(() => {\r\n    const duration = 250;\r\n\r\n    yCoords.value = withTiming(0, { duration });\r\n    heightScale.value = withTiming(35, { duration });\r\n    marginScale.value = withTiming(8, { duration });\r\n  }, [yCoords, heightScale, marginScale]);\r\n\r\n  const slideOut = useCallback(() => {\r\n    const duration = 250;\r\n\r\n    yCoords.value = withTiming(200, { duration }, (isFinished) => {\r\n      if (isFinished) runOnJS(setIsVisible)(false);\r\n    });\r\n    heightScale.value = withTiming(0, { duration });\r\n    marginScale.value = withTiming(0, { duration });\r\n  }, [yCoords, heightScale, marginScale]);\r\n\r\n  useEffect(() => {\r\n    if (isVisible)\r\n      if (isTyping) slideIn();\r\n      else slideOut();\r\n  }, [isVisible, isTyping, slideIn, slideOut]);\r\n\r\n  useEffect(() => {\r\n    if (isTyping) setIsVisible(true);\r\n  }, [isTyping]);\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <Animated.View style={[styles.container, containerStyle]}>\r\n      <DotsAnimation />\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nexport default TypingIndicator;\r\n"],"mappings":"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","ignoreList":[]}