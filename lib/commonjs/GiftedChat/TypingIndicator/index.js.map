{"version":3,"names":["_react","require","_reactNative","_reactNativeReanimated","_interopRequireWildcard","_styles","_interopRequireDefault","_styles2","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","set","getOwnPropertyDescriptor","DotsAnimation","dot1","useSharedValue","dot2","dot3","topY","useMemo","bottomY","duration","dot1Style","useAnimatedStyle","transform","translateY","value","dot2Style","dot3Style","useEffect","withRepeat","withSequence","withTiming","withDelay","React","createElement","View","style","stylesCommon","fill","centerItems","styles","dots","dot","TypingIndicator","isTyping","yCoords","heightScale","marginScale","isVisible","setIsVisible","useState","containerStyle","height","marginBottom","slideIn","useCallback","slideOut","isFinished","runOnJS","container","_default"],"sources":["index.tsx"],"sourcesContent":["import { useCallback, useEffect, useState, useMemo } from 'react';\nimport { View } from 'react-native';\nimport Animated, {\n  runOnJS,\n  useAnimatedStyle,\n  useSharedValue,\n  withDelay,\n  withRepeat,\n  withSequence,\n  withTiming,\n} from 'react-native-reanimated';\nimport { type TypingIndicatorProps } from './types';\n\nimport stylesCommon from '../styles';\nimport styles from './styles';\n\nexport * from './types';\n\nconst DotsAnimation = () => {\n  const dot1 = useSharedValue(0);\n  const dot2 = useSharedValue(0);\n  const dot3 = useSharedValue(0);\n\n  const topY = useMemo(() => -5, []);\n  const bottomY = useMemo(() => 5, []);\n  const duration = useMemo(() => 500, []);\n\n  const dot1Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot1.value,\n        },\n      ],\n    }),\n    [dot1]\n  );\n\n  const dot2Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot2.value,\n        },\n      ],\n    }),\n    [dot2]\n  );\n\n  const dot3Style = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: dot3.value,\n        },\n      ],\n    }),\n    [dot3]\n  );\n\n  useEffect(() => {\n    dot1.value = withRepeat(\n      withSequence(\n        withTiming(topY, { duration }),\n        withTiming(bottomY, { duration })\n      ),\n      0,\n      true\n    );\n  }, [dot1, topY, bottomY, duration]);\n\n  useEffect(() => {\n    dot2.value = withDelay(\n      100,\n      withRepeat(\n        withSequence(\n          withTiming(topY, { duration }),\n          withTiming(bottomY, { duration })\n        ),\n        0,\n        true\n      )\n    );\n  }, [dot2, topY, bottomY, duration]);\n\n  useEffect(() => {\n    dot3.value = withDelay(\n      200,\n      withRepeat(\n        withSequence(\n          withTiming(topY, { duration }),\n          withTiming(bottomY, { duration })\n        ),\n        0,\n        true\n      )\n    );\n  }, [dot3, topY, bottomY, duration]);\n\n  return (\n    <View style={[stylesCommon.fill, stylesCommon.centerItems, styles.dots]}>\n      <Animated.View style={[styles.dot, dot1Style]} />\n      <Animated.View style={[styles.dot, dot2Style]} />\n      <Animated.View style={[styles.dot, dot3Style]} />\n    </View>\n  );\n};\n\nconst TypingIndicator = ({ isTyping }: TypingIndicatorProps) => {\n  const yCoords = useSharedValue(200);\n  const heightScale = useSharedValue(0);\n  const marginScale = useSharedValue(0);\n\n  const [isVisible, setIsVisible] = useState(isTyping);\n\n  const containerStyle = useAnimatedStyle(\n    () => ({\n      transform: [\n        {\n          translateY: yCoords.value,\n        },\n      ],\n      height: heightScale.value,\n      marginBottom: marginScale.value,\n    }),\n    [yCoords, heightScale, marginScale]\n  );\n\n  const slideIn = useCallback(() => {\n    const duration = 250;\n\n    yCoords.value = withTiming(0, { duration });\n    heightScale.value = withTiming(35, { duration });\n    marginScale.value = withTiming(8, { duration });\n  }, [yCoords, heightScale, marginScale]);\n\n  const slideOut = useCallback(() => {\n    const duration = 250;\n\n    yCoords.value = withTiming(200, { duration }, (isFinished) => {\n      if (isFinished) runOnJS(setIsVisible)(false);\n    });\n    heightScale.value = withTiming(0, { duration });\n    marginScale.value = withTiming(0, { duration });\n  }, [yCoords, heightScale, marginScale]);\n\n  useEffect(() => {\n    if (isVisible)\n      if (isTyping) slideIn();\n      else slideOut();\n  }, [isVisible, isTyping, slideIn, slideOut]);\n\n  useEffect(() => {\n    if (isTyping) setIsVisible(true);\n  }, [isTyping]);\n\n  if (!isVisible) return null;\n\n  return (\n    <Animated.View style={[styles.container, containerStyle]}>\n      <DotsAnimation />\n    </Animated.View>\n  );\n};\n\nexport default TypingIndicator;\n"],"mappings":"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","ignoreList":[]}