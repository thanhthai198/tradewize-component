{"version":3,"names":["_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactNative","_indicator","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","BarIndicator","PureComponent","constructor","props","renderComponent","outputRange","base","index","count","samples","range","Array","from","_item","Math","abs","cos","PI","j","unshift","pop","slice","progress","color","backgroundColor","size","animationDuration","frames","inputRange","width","floor","height","radius","ceil","containerStyle","marginHorizontal","topStyle","borderTopLeftRadius","borderTopRightRadius","transform","translateY","interpolate","bottomStyle","borderBottomLeftRadius","borderBottomRightRadius","createElement","View","style","key","Animated","render","styles","container","exports","Indicator","propTypes","PropTypes","string","number"],"sources":["index.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { View, Animated } from 'react-native';\n\nimport Indicator from '../indicator';\nimport styles from './styles';\n\nexport default class BarIndicator extends PureComponent {\n  static defaultProps = {\n    count: 3,\n\n    color: 'rgb(0, 0, 0)',\n    size: 40,\n  };\n\n  static propTypes = {\n    ...Indicator.propTypes,\n\n    color: PropTypes.string,\n    size: PropTypes.number,\n  };\n\n  constructor(props: any) {\n    super(props);\n\n    this.renderComponent = this.renderComponent.bind(this);\n  }\n\n  outputRange(base: number, index: number, count: number, samples: number) {\n    let range = Array.from(\n      new Array(samples),\n      (_item, index) =>\n        base * Math.abs(Math.cos((Math.PI * index) / (samples - 1)))\n    );\n\n    for (let j = 0; j < index * (samples / count); j++) {\n      range.unshift(range.pop() as number);\n    }\n\n    range.unshift(...range.slice(-1));\n\n    return range;\n  }\n\n  renderComponent({ index, count, progress }: any) {\n    let { color: backgroundColor, size, animationDuration }: any = this.props;\n\n    let frames = (60 * animationDuration) / 1000;\n    let samples = 0;\n\n    do samples += count;\n    while (samples < frames);\n\n    let inputRange = Array.from(\n      new Array(samples + 1),\n      (_item, index) => index / samples\n    );\n\n    let width = Math.floor(size / 5),\n      height = Math.floor(size / 2),\n      radius = Math.ceil(width / 2);\n\n    let containerStyle = {\n      height: size,\n      width: width,\n      marginHorizontal: radius,\n    };\n\n    let topStyle = {\n      width,\n      height,\n      backgroundColor,\n      borderTopLeftRadius: radius,\n      borderTopRightRadius: radius,\n      transform: [\n        {\n          translateY: progress.interpolate({\n            inputRange,\n            outputRange: this.outputRange(\n              +(height - radius) / 2,\n              index,\n              count,\n              samples\n            ),\n          }),\n        },\n      ],\n    };\n\n    let bottomStyle = {\n      width,\n      height,\n      backgroundColor,\n      borderBottomLeftRadius: radius,\n      borderBottomRightRadius: radius,\n      transform: [\n        {\n          translateY: progress.interpolate({\n            inputRange,\n            outputRange: this.outputRange(\n              -(height - radius) / 2,\n              index,\n              count,\n              samples\n            ),\n          }),\n        },\n      ],\n    };\n\n    return (\n      <View style={containerStyle} {...{ key: index }}>\n        <Animated.View style={topStyle} />\n        <Animated.View style={bottomStyle} />\n      </View>\n    );\n  }\n\n  render() {\n    let { style, ...props }: any = this.props;\n\n    return (\n      <Indicator\n        style={[styles.container, style]}\n        renderComponent={this.renderComponent}\n        {...props}\n      />\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}